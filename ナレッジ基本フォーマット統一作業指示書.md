# ナレッジ基本フォーマット統一作業指示書

## 基本方針

**K132を正解フォーマットとして、全てのナレッジをこのフォーマットに統一する**

## 実施する項目（優先順）

### 1. タイトルページの削除 ✅ 分かりやすい
- `"role": "title-page"`, `"role": "タイトル表示"`, `"role": "title-introduction"` 等のページを削除
- page1がタイトルのみのページは削除対象

### 2. CTAページの削除 ✅ 分かりやすい
- `"role": "service-promotion"`, `"role": "コミュニティ紹介"`, `"role": "特典紹介"` 等のページを削除
- 以下の要素を含むページは削除対象：
  - `"cta"`, `"specialOffer"`, `"engagement"`
  - `"hashtags"`, `"profile"`, `"stats"`, `"url"`
  - プロフィール情報、アカウント情報

### 3. detailedContentのセクション追加 ✅ フォーマット統一
- K132の構造に合わせて以下のセクションを追加：
  - `"role"`: ページの役割を明確化
  - `"section"`: introduction, mainContent, summary
  - `"content"`: 実際のコンテンツデータ

### 4. 基本フィールドのフォーマット統一 ✅ 決まってる部分
- 以下のフィールドを削除：
  - `"hashTag"`: 不要フィールド
  - `"pageIndicator"`: 装飾要素
  - `"accountInfo"`: アカウント情報
- `"pageStructurePattern"`: 空白の場合は後で設定（現在は保留）

## 保留する項目（理由つき）

### 装飾の削除 → 後でテンプレート選択時に「画像との相性」を判断する材料として必要
- `"visualElement"`, `"characterElement"`, `"illustration"` 等は保持
- `"design"`, `"layout"`, `"background"` 等も保持
- これらの情報は後のテンプレート選択時に活用

## まだ実施しない項目（複雑すぎる）

### 後ほど行う予定：
- **テンプレートの特定**
- **detailedContentの中身構造をテンプレートに合わせる**
- **情報内容の改善**

## 追加作業

### テンプレート相性リスト化
相性の良さそうなテンプレートパターンを別途ドキュメントにリスト化していく

**既存のフィードバックから抽出**：
- K037: `basic_intro` + 画像テンプレート適合
- K048: `SectionBlocksTemplate` 適合
- K071: `ItemGridTemplate` 適合
- K065: `ImagePointTemplate` 適合
- K073: `SectionBlocksTemplate` 適合
- K049: `SimpleIntroTemplate` 適合
- K063: `ImagePointTemplate` 適合
- K064: `ImagePointTemplate` または `SectionBlocksTemplate` 適合

## 作業の進め方

### 基本作業方針
- **作業範囲**: Type001ディレクトリの最初から004の最後まで順次処理
- **安全性**: バックアップが取られているため積極的に作業を進めて良い
- **作業順序**: 各ディレクトリ内のファイルを順番に処理

### 作業手順
1. **K132を参照基準として確認**
2. **Type001から順次、各ナレッジを1つずつ処理**
3. **上記の実施項目を順次適用**
4. **変更内容を記録**
5. **テンプレート相性を `/mnt/c/instagram-course/instagram-post-generator/ナレッジテンプレート相性リスト.md` に保存**
6. **進捗を `/mnt/c/instagram-course/instagram-post-generator/ナレッジ基本フォーマット統一作業進捗報告.md` で更新**

### detailedContentフィールドの制限ルール
- **各ページにsectionフィールドを追加するだけ**
- **それ以外は一切変更しない**
- このルールであればK132と同じようにする以上不具合は起きない

## 作業方法の重要な制約

### 禁止事項
- **効率的なスクリプトでの処理は禁止**
- **一括変更は禁止**

### 必須事項
- **毎回毎回全文確認して作業を行うこと**
- **手作業での慎重な処理を徹底**

## 注意事項

- 内容の改善や情報の価値判断は現段階では行わない
- フォーマットの統一のみに集中する
- 装飾情報は後のテンプレート選択のために保持
- 段階的アプローチで確実に進める
- K132と同じフォーマットにすることで不具合を防止