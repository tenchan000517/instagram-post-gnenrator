# 08 çµ±åˆDBç”Ÿæˆå®Ÿè¡Œ

**å¯¾è±¡**: 8ç¨®é¡ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®çµ±åˆãƒã‚¹ã‚¿ãƒ¼DBç”Ÿæˆ  
**æ‰‹æ³•**: Node.jsçµ±åˆã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ  
**å‡ºåŠ›**: å„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®çµ±åˆãƒã‚¹ã‚¿ãƒ¼JSONãƒ•ã‚¡ã‚¤ãƒ«  
**ä¿å­˜å…ˆ**: `app/data/[å„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹]/[DataBaseName]MasterData.json`

---

## ğŸš€ åŸºæœ¬å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰

```bash
ã€çµ±åˆDBç”Ÿæˆå®Ÿè¡Œã€‘

# ä¼æ¥­ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹çµ±åˆ
cd /mnt/c/instagram-course/instagram-post-generator/app/data/companyDatabase
node createUnifiedDatabase.js

# AIãƒ„ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹çµ±åˆ  
cd /mnt/c/instagram-course/instagram-post-generator/app/data/aiToolsDatabase
node createUnifiedDatabase.js

# è³‡æ ¼ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹çµ±åˆ
cd /mnt/c/instagram-course/instagram-post-generator/app/data/qualificationDatabase  
node createUnifiedDatabase.js

# ã‚¬ã‚¸ã‚§ãƒƒãƒˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹çµ±åˆ
cd /mnt/c/instagram-course/instagram-post-generator/app/data/gadgetDatabase
node createUnifiedDatabase.js

# ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹çµ±åˆ
cd /mnt/c/instagram-course/instagram-post-generator/app/data/softwareDatabase
node createUnifiedDatabase.js

# ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹çµ±åˆ
cd /mnt/c/instagram-course/instagram-post-generator/app/data/mobileAppDatabase
node createUnifiedDatabase.js

# ç¿’æ…£ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹çµ±åˆ  
cd /mnt/c/instagram-course/instagram-post-generator/app/data/habitDatabase
node createUnifiedDatabase.js

# ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹çµ±åˆï¼ˆæ—¢å­˜ï¼‰
cd /mnt/c/instagram-course/instagram-post-generator/app/data/knowledgeBase
node createUnifiedDatabase.js
```

---

## ğŸ“‹ çµ±åˆå¯¾è±¡ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆ8ç¨®é¡ï¼‰

| # | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | çµ±åˆå…ƒãƒ•ã‚©ãƒ«ãƒ€ | çµ±åˆå…ˆãƒ•ã‚¡ã‚¤ãƒ« | æƒ³å®šãƒ‡ãƒ¼ã‚¿æ•° |
|---|-------------|---------------|---------------|------------|
| **1** | **ä¼æ¥­DB** | `industries/` | `companyMasterData.json` | 350+ä¼æ¥­ |
| **2** | **AIãƒ„ãƒ¼ãƒ«DB** | `batch1-9/` | `aiToolsMasterData.json` | 77ãƒ„ãƒ¼ãƒ« |
| **3** | **è³‡æ ¼DB** | `categories/` | `qualificationMasterData.json` | 70+è³‡æ ¼ |
| **4** | **ã‚¬ã‚¸ã‚§ãƒƒãƒˆDB** | `categories/` | `gadgetMasterData.json` | 70+ã‚¬ã‚¸ã‚§ãƒƒãƒˆ |
| **5** | **ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢DB** | `categories/` | `softwareMasterData.json` | 60+ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ |
| **6** | **ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªDB** | `categories/` | `mobileAppMasterData.json` | 50+ã‚¢ãƒ—ãƒª |
| **7** | **ç¿’æ…£DB** | `categories/` | `habitMasterData.json` | 60+ç¿’æ…£ |
| **8** | **ãƒŠãƒ¬ãƒƒã‚¸DB** | `knowledge/` | `knowledgeMasterData.json` | æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ |

---

## ğŸ”§ çµ±åˆã‚¹ã‚¯ãƒªãƒ—ãƒˆä»•æ§˜

### **å…±é€šçµ±åˆã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**

```javascript
// createUnifiedDatabase.js (å„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç”¨)

const fs = require('fs');
const path = require('path');

// è¨­å®š
const CONFIG = {
  sourceDir: './categories/', // ã¾ãŸã¯ './batch/', './industries/'
  outputFile: './[DATABASE_NAME]MasterData.json',
  encoding: 'utf8',
  backup: true
};

// ãƒ¡ã‚¤ãƒ³çµ±åˆå‡¦ç†
async function createUnifiedDatabase() {
  console.log('çµ±åˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç”Ÿæˆé–‹å§‹...');
  
  try {
    // 1. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
    if (CONFIG.backup && fs.existsSync(CONFIG.outputFile)) {
      const backupFile = `./backup_${new Date().toISOString().slice(0,10)}_${path.basename(CONFIG.outputFile)}`;
      fs.copyFileSync(CONFIG.outputFile, backupFile);
      console.log(`ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ: ${backupFile}`);
    }

    // 2. ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿
    const sourceFiles = fs.readdirSync(CONFIG.sourceDir)
      .filter(file => file.endsWith('.json'))
      .sort();

    let unifiedData = {
      databaseInfo: {
        databaseName: '[DATABASE_NAME]',
        totalRecords: 0,
        categories: [],
        lastUpdated: new Date().toISOString(),
        version: 'v1.0'
      },
      data: []
    };

    // 3. å„ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚¡ã‚¤ãƒ«ã‚’çµ±åˆ
    for (const file of sourceFiles) {
      const filePath = path.join(CONFIG.sourceDir, file);
      const categoryData = JSON.parse(fs.readFileSync(filePath, CONFIG.encoding));
      
      // ã‚«ãƒ†ã‚´ãƒªæƒ…å ±è¨˜éŒ²
      unifiedData.databaseInfo.categories.push({
        categoryName: categoryData.categoryInfo?.categoryName || path.basename(file, '.json'),
        recordCount: categoryData.data?.length || categoryData.tools?.length || categoryData.companies?.length || 0,
        sourceFile: file
      });

      // ãƒ‡ãƒ¼ã‚¿çµ±åˆ
      const records = categoryData.data || categoryData.tools || categoryData.companies || [];
      unifiedData.data = unifiedData.data.concat(records);
    }

    // 4. çµ±è¨ˆæƒ…å ±æ›´æ–°
    unifiedData.databaseInfo.totalRecords = unifiedData.data.length;

    // 5. çµ±åˆãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›
    fs.writeFileSync(
      CONFIG.outputFile, 
      JSON.stringify(unifiedData, null, 2), 
      CONFIG.encoding
    );

    // 6. å®Ÿè¡Œçµæœè¡¨ç¤º
    console.log(`çµ±åˆå®Œäº†: ${CONFIG.outputFile}`);
    console.log(`ç·ãƒ¬ã‚³ãƒ¼ãƒ‰æ•°: ${unifiedData.databaseInfo.totalRecords}`);
    console.log(`ã‚«ãƒ†ã‚´ãƒªæ•°: ${unifiedData.databaseInfo.categories.length}`);
    
    unifiedData.databaseInfo.categories.forEach(cat => {
      console.log(`  - ${cat.categoryName}: ${cat.recordCount}ä»¶`);
    });

  } catch (error) {
    console.error('çµ±åˆå‡¦ç†ã‚¨ãƒ©ãƒ¼:', error);
    process.exit(1);
  }
}

// å®Ÿè¡Œ
createUnifiedDatabase();
```

---

## ğŸ“Š å®Ÿè¡Œæ‰‹é †

### **STEP1: äº‹å‰ç¢ºèª**
```bash
# å„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å­˜åœ¨ç¢ºèª
ls -la app/data/companyDatabase/industries/
ls -la app/data/aiToolsDatabase/batch*/
ls -la app/data/qualificationDatabase/categories/
ls -la app/data/gadgetDatabase/categories/
ls -la app/data/softwareDatabase/categories/
ls -la app/data/mobileAppDatabase/categories/
ls -la app/data/habitDatabase/categories/
```

### **STEP2: çµ±åˆã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ**
```bash
# å…¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¸€æ‹¬çµ±åˆå®Ÿè¡Œ
cd /mnt/c/instagram-course/instagram-post-generator

# ä¼æ¥­DBçµ±åˆ
echo "ä¼æ¥­DBçµ±åˆé–‹å§‹..."
cd app/data/companyDatabase && node createUnifiedDatabase.js

# AIãƒ„ãƒ¼ãƒ«DBçµ±åˆ  
echo "AIãƒ„ãƒ¼ãƒ«DBçµ±åˆé–‹å§‹..."
cd ../aiToolsDatabase && node createUnifiedDatabase.js

# è³‡æ ¼DBçµ±åˆ
echo "è³‡æ ¼DBçµ±åˆé–‹å§‹..."
cd ../qualificationDatabase && node createUnifiedDatabase.js

# ã‚¬ã‚¸ã‚§ãƒƒãƒˆDBçµ±åˆ
echo "ã‚¬ã‚¸ã‚§ãƒƒãƒˆDBçµ±åˆé–‹å§‹..."
cd ../gadgetDatabase && node createUnifiedDatabase.js

# ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢DBçµ±åˆ
echo "ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢DBçµ±åˆé–‹å§‹..."
cd ../softwareDatabase && node createUnifiedDatabase.js

# ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªDBçµ±åˆ
echo "ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªDBçµ±åˆé–‹å§‹..."
cd ../mobileAppDatabase && node createUnifiedDatabase.js

# ç¿’æ…£DBçµ±åˆ
echo "ç¿’æ…£DBçµ±åˆé–‹å§‹..."
cd ../habitDatabase && node createUnifiedDatabase.js

echo "å…¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹çµ±åˆå®Œäº†"
```

### **STEP3: çµ±åˆçµæœç¢ºèª**
```bash
# çµ±åˆãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ãƒ»ã‚µã‚¤ã‚ºç¢ºèª
ls -lh app/data/*/\*MasterData.json

# JSONæ§‹æ–‡ãƒã‚§ãƒƒã‚¯
node -e "console.log('ä¼æ¥­DB:', JSON.parse(require('fs').readFileSync('app/data/companyDatabase/companyMasterData.json')).databaseInfo)"
node -e "console.log('AIãƒ„ãƒ¼ãƒ«DB:', JSON.parse(require('fs').readFileSync('app/data/aiToolsDatabase/aiToolsMasterData.json')).databaseInfo)"
# ä»–ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚‚åŒæ§˜ã«ãƒã‚§ãƒƒã‚¯
```

---

## ğŸ”§ å“è³ªç®¡ç†

### **å¿…é ˆç¢ºèªé …ç›®**
- [ ] å…¨8ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®çµ±åˆã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œå®Œäº†
- [ ] MasterDataãƒ•ã‚¡ã‚¤ãƒ«ã®JSONæ§‹æ–‡ã‚¨ãƒ©ãƒ¼ãªã—
- [ ] å„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æƒ³å®šãƒ¬ã‚³ãƒ¼ãƒ‰æ•°é”æˆç¢ºèª
- [ ] ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆç¢ºèª
- [ ] çµ±åˆå‰å¾Œã®ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ç¢ºèª

### **ãƒ‡ãƒ¼ã‚¿å“è³ªåŸºæº–**
- **å®Œå…¨æ€§**: ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®100%çµ±åˆ
- **æ•´åˆæ€§**: JSONæ§‹æ–‡ã‚¨ãƒ©ãƒ¼0ä»¶
- **ä¸€æ„æ€§**: é‡è¤‡ãƒ¬ã‚³ãƒ¼ãƒ‰é™¤å¤–ç¢ºèª
- **æœ€æ–°æ€§**: æœ€æ–°ãƒ‡ãƒ¼ã‚¿ã§ã®çµ±åˆç¢ºèª

---

## âš ï¸ ã‚¨ãƒ©ãƒ¼å¯¾å¿œ

### **ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦æ³•**

#### **1. ãƒ•ã‚¡ã‚¤ãƒ«ä¸å­˜åœ¨ã‚¨ãƒ©ãƒ¼**
```
Error: ENOENT: no such file or directory
```
**å¯¾å‡¦**: ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ç¢ºèªãƒ»ãƒ‘ã‚¹ä¿®æ­£

#### **2. JSONæ§‹æ–‡ã‚¨ãƒ©ãƒ¼**  
```
SyntaxError: Unexpected token in JSON
```
**å¯¾å‡¦**: ã‚½ãƒ¼ã‚¹JSONãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹æ–‡ãƒã‚§ãƒƒã‚¯ãƒ»ä¿®æ­£

#### **3. ãƒ¡ãƒ¢ãƒªä¸è¶³ã‚¨ãƒ©ãƒ¼**
```
FATAL ERROR: JS Allocation failed
```
**å¯¾å‡¦**: Node.jsãƒ¡ãƒ¢ãƒªåˆ¶é™å¢—åŠ  `node --max-old-space-size=4096`

---

## ğŸ¯ æˆæœç›®æ¨™

**çµ±åˆç›®æ¨™**:
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ•°**: 8å€‹ã®å®Œå…¨çµ±åˆ
- **ç·ãƒ¬ã‚³ãƒ¼ãƒ‰æ•°**: 700+ãƒ¬ã‚³ãƒ¼ãƒ‰ã®çµ±åˆ
- **å“è³ªåŸºæº–**: JSONæ§‹æ–‡ã‚¨ãƒ©ãƒ¼0ä»¶

**åŠ¹ç‡ç›®æ¨™**:
- **å®Ÿè¡Œæ™‚é–“**: å…¨8DBçµ±åˆ20åˆ†ä»¥å†…
- **ã‚¨ãƒ©ãƒ¼ç‡**: 0%
- **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**: 100%å®Ÿæ–½

**æ¬¡ã‚¹ãƒ†ãƒƒãƒ—æº–å‚™**:
- **ãƒ©ãƒ³ã‚­ãƒ³ã‚°ç”Ÿæˆ**: LAUNCH/database/09å®Ÿè¡Œæº–å‚™
- **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ**: TYPE001-005å¯¾å¿œæº–å‚™
- **æ¨ªæ–­æ¤œç´¢**: KIKUYOãƒ»TENå¯¾å¿œæº–å‚™

---

## ğŸ”— å‚ç…§ãƒ•ã‚¡ã‚¤ãƒ«

### **INTEGRATED-SYSTEMå†…å‚ç…§**
- `INTEGRATED-SYSTEM/LAUNCH/database/01_ä¼æ¥­ãƒªã‚µãƒ¼ãƒå®Ÿè¡Œ.md` - ä¼æ¥­DBå…ƒãƒ‡ãƒ¼ã‚¿
- `INTEGRATED-SYSTEM/LAUNCH/database/02_AIãƒ„ãƒ¼ãƒ«ãƒªã‚µãƒ¼ãƒå®Ÿè¡Œ.md` - AIãƒ„ãƒ¼ãƒ«DBå…ƒãƒ‡ãƒ¼ã‚¿
- `INTEGRATED-SYSTEM/LAUNCH/database/03-07_[å„DB]ãƒªã‚µãƒ¼ãƒå®Ÿè¡Œ.md` - å„DBå…ƒãƒ‡ãƒ¼ã‚¿
- `INTEGRATED-SYSTEM/LAUNCH/database/09_ãƒ©ãƒ³ã‚­ãƒ³ã‚°ç”Ÿæˆå®Ÿè¡Œ.md` - æ¬¡ã‚¹ãƒ†ãƒƒãƒ—

### **å®Ÿè¡Œå¯¾è±¡ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**
- `app/data/companyDatabase/` - ä¼æ¥­ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- `app/data/aiToolsDatabase/` - AIãƒ„ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- `app/data/qualificationDatabase/` - è³‡æ ¼ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- `app/data/gadgetDatabase/` - ã‚¬ã‚¸ã‚§ãƒƒãƒˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- `app/data/softwareDatabase/` - ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- `app/data/mobileAppDatabase/` - ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- `app/data/habitDatabase/` - ç¿’æ…£ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- `app/data/knowledgeBase/` - ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹

---

**ç§»è¡Œè€…**: æ¬¡ä¸–ä»£Claude Code  
**ç§»è¡Œæ—¥**: 2025-09-03  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v1.0ï¼ˆçµ±åˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå¯¾å¿œç‰ˆï¼‰  
**åŸºç›¤**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹çµ±åˆèµ·å‹•è¡“å¼çµ±åˆ

**é‡è¦**: ã“ã®çµ±åˆèµ·å‹•è¡“å¼ã«ã‚ˆã‚Šã€8ç¨®é¡ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’åŠ¹ç‡çš„ã«çµ±åˆã—ã€KIKUYOãƒ»TENä¸¡ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®æ¨ªæ–­æ¤œç´¢ãƒ»ãƒ©ãƒ³ã‚­ãƒ³ã‚°ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã®åŸºç›¤ã‚’å®Œæˆã§ãã¾ã™ã€‚