# 次世代Claude_Code引き継ぎ書 - コンテンツ分析システム構築

## 📋 プロジェクト概要

### 目的
Instagram投稿生成システムにおける**汎用的なコンテンツ分析システム**の構築。新しいナレッジベースコンテンツを体系的に分析し、システムに統合するためのフローとマスタードキュメントの確立。

### 重要な原則
- **100点ルール**: 100点じゃないものは全てテンプレートが存在しない
- **CTA不要**: CTAや励ましメッセージは削除対象
- **純粋なコンテンツ**: 実用的な内容のみに集中

## 🎯 現在の進捗状況（約50%完了）

### ✅ 完了した作業

#### 1. 投稿タイプ判断基準マスタードキュメント
- **ファイル**: `/投稿タイプ判断基準マスタードキュメント.md`
- **内容**: 4つの投稿タイプ（TypeID=001-004）の判断基準
- **重要な修正**: TypeID=002とTypeID=003の定義明確化
  - TypeID=002: スキルアップ・ノウハウ伝授型（実践的方法論）
  - TypeID=003: 情報提供・知識伝達型（純粋な知識・データ）

#### 2. ターゲット判断基準マスタードキュメント
- **ファイル**: `/ターゲット判断基準マスタードキュメント.md`
- **重要な理解**: 24個から選ぶのではなく、投稿タイプ別の6個から選択
- **構造**:
  - TypeID=001 → T001-T006
  - TypeID=002 → T007-T012
  - TypeID=003 → T013-T018
  - TypeID=004 → T019-T024

#### 3. ページ構成判断基準マスタードキュメント
- **ファイル**: `/ページ構成判断基準マスタードキュメント.md`
- **最重要要素**: **順序依存性**（テンプレート構成が根本的に変わるため）
- **修正完了**: CTA削除、具体的表現を汎用化

### 🚧 残りのタスク（1セット完了まで）

#### 4. テンプレートの確定
- **目的**: 必要な「項目」を定義
- **依存関係**: ページ構成パターンが確定後に実行

#### 5. KxxxJSONフォーマットの確定
- **目的**: テンプレート項目に基づく構造定義
- **依存関係**: テンプレート項目確定後に実行

#### 6. コンテンツ分析フローの確定
- **目的**: 全体プロセスの標準化
- **依存関係**: 全ステップ完了後に実行

## 📊 重要な参照ファイル

### 必読ドキュメント
1. **`CLAUDE.md`** - プロジェクト概要と開発ルール
2. **`コンテンツ分析フォーマット_マスタードキュメント.md`** - CTA削除などの重要な原則
3. **`投稿タイプ別Problem-Solutionパターンマッピング.md`** - 各投稿タイプのパターン詳細
4. **`app/data/knowledgeBase/ui-names.json`** - ターゲット定義

### システムファイル
1. **`app/data/knowledgeBase/type-target-persona-relations.json`** - 投稿タイプ→ターゲット→ペルソナの紐づけ
2. **`app/services/knowledgeBase/data/pageStructures/`** - ページ構成定義ファイル群

## 🔍 重要な技術的理解

### 投稿タイプ分類の本質
- **表面的な内容ではなく、Problem-Solutionの本質で判断**
- **ノウハウの扱い**:
  - 実践的ノウハウ・方法論 → TypeID=002
  - 純粋な知識・情報 → TypeID=003
  - 効率化ツール・サービス → TypeID=004

### ターゲット選択の構造
- **投稿タイプが先に決まる**
- **各投稿タイプには6個のターゲットが紐づく**
- **その6個の中から1つを選ぶ**

### ページ構成の最重要要素
- **順序依存性**: テンプレート構成が根本的に変わる
- **順序依存型**: 1→2→3の順序で実行・理解が必要
- **並列型**: どの項目から始めても問題ない

## 📋 実践例：K117分析結果

### 分析プロセス
1. **投稿タイプ**: TypeID=002（志望動機作成ノウハウ = 実践的方法論）
2. **ターゲット**: T007（対策方法やノウハウによって就活で差をつけたい学生）
3. **ページ構成**: 順序依存型ステップフロー（4つのポイントの段階的学習）

### 理解すべき構造
- Page 1: タイトル・問題提起
- Page 2: 4つのポイント（チェックリスト形式）
- Page 3-6: 各ポイントの詳細解説（NG/GOOD例、フレームワーク）

## 🚨 重要な注意事項

### 削除すべき要素
- **CTA関連**: `savePrompt`, `cta`, `finalPageOffer`
- **CTAページ**: 純粋なコンテンツページのみ
- **具体的すぎる表現**: 「励ましメッセージ」→「まとめページ」

### 判断時のよくあるミス
1. **表面的な内容で判断** → 本質的な目的で判断
2. **24個のターゲットから選択** → 投稿タイプ別6個から選択
3. **順序依存性の軽視** → 最重要要素として優先

## 🔄 次のステップ詳細

### 4. テンプレートの確定
- **作業内容**: K117のページ構成に基づくテンプレート項目定義
- **重要**: 順序依存型ステップフローに適したテンプレート構造
- **成果物**: テンプレートReactコンポーネント

### 5. KxxxJSONフォーマットの確定
- **作業内容**: テンプレート項目に基づくJSON構造定義
- **参考**: `app/services/knowledgeBase/data/knowledgeDetails/`内の既存ファイル
- **成果物**: 汎用的なナレッジJSONフォーマット

### 6. コンテンツ分析フローの確定
- **作業内容**: 3つの判断基準を統合した完全なフロードキュメント
- **成果物**: 新規コンテンツ分析の標準プロセス

## 📝 現在作成済みファイル一覧

1. `/投稿タイプ判断基準マスタードキュメント.md` ✅
2. `/ターゲット判断基準マスタードキュメント.md` ✅
3. `/ページ構成判断基準マスタードキュメント.md` ✅
4. `/次世代Claude_Code引き継ぎ書_コンテンツ分析システム構築_2025-07-27.md` ✅

## 🎯 最終目標

**汎用的なコンテンツ分析システム**の確立により、新しいナレッジベースコンテンツを効率的にシステムに統合できる標準化されたプロセスの構築。

---

**作成日**: 2025-07-27  
**進捗**: 約50%完了  
**次の担当者**: 次世代Claude_Code  
**重要度**: 最高 - システム基盤の根幹部分