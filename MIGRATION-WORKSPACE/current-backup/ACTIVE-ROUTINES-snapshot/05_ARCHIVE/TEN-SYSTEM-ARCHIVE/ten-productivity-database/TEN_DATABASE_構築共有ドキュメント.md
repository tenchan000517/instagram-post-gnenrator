# TEN DATABASE 構築共有ドキュメント

**作成日**: 2025-08-30  
**目的**: Claude Codeセッション開始時の即座の状況理解と作業継続  
**重要度**: 最優先参照ドキュメント

---

## 🎯 TEN DATABASEとは

**生産性向上に特化した6カテゴリ統合データベースシステム**
- KIKUYOシステム（企業ランキング）の成功パターンを完全踏襲
- データベース→ランキング→Kxxxx（Type003投稿）の自動生成フロー確立
- TENキャラクター（効率化マニア・武士口調）専用コンテンツ

### **6カテゴリ構成**
1. **AIツール** - 72ツール（発見完了：Claude, ChatGPT, Midjourney等）
2. **生産性ソフト** - 発見フェーズ未実行（数未確定）
3. **資格・スキル** - 発見フェーズ未実行（数未確定）
4. **ガジェット** - 発見フェーズ未実行（数未確定）
5. **習慣・ルーティーン** - 既存45習慣+発見フェーズ未実行（数未確定）
6. **書籍** - 発見フェーズ未実行（数未確定）

---

## 📊 現在の進捗状況

### ✅ 完了済み
1. **マスタープラン策定** - `/TEN_MASTER_PLAN.md`
2. **詳細リサーチプロンプト作成** - 6/6カテゴリ完了
   - ✅ AIツール、生産性ソフト、資格、ガジェット、習慣、書籍
3. **TEN評価軸統一** - 「めんどくさがり対応」→「生産性UP度」修正完了
4. **AIツール発見フェーズ** - 72ツール発見完了
5. **カテゴリ分類** - 8カテゴリ分類完了

### 🔄 進行中（V5更新版）
1. **6カテゴリ進捗整備** - 全体構造統合・文書更新

### ✅ 新規完了（2025-08-30）
1. **AIツールバッチ起動術式** - 5/5バッチ完了（1-15, 16-30, 31-45, 46-60, 61-72）
2. **JSON構造定義** - 30+項目完全スキーマ定義完了
3. **ディレクトリ整備** - research-results/、database/、rankings/構築完了

### ⏳ 未着手（カテゴリ別）

#### **1. AIツール（78ツール）** ✅ **完全完了！**
- [x] **フェーズ1: バッチ1-9完全実行** - 9/9バッチ完了 ✅
- [x] **フェーズ2: JSON保存・品質検証** - 78/78ツール完了 ✅  
- [x] **フェーズ3: aiToolsMasterData.json構築** - 78ツール統合完了 ✅
- [x] **フェーズ4: ランキング生成システム** - 30パターン生成完了 ✅
- [x] **フェーズ5: カテゴリ重要度補正** - 総合ランキング最適化完了 ✅
- [ ] **フェーズ6: K902-K920作成（AIツール系）** - Instagram投稿準備

**🏆 重要な成果:**
- 総ツール数: 78ツール（目標72を上回る）
- 統合率: 100%（全ツール有効評価済み）
- 平均スコア: 501.63点（高品質評価）
- トップツール: ChatGPT(560), Gemini(535), Claude(510) - 理想的順位
- 55カテゴリ対応: 包括的AIツール領域カバー
- 30種ランキング: 総合・項目別・用途別完備

#### **2. 生産性ソフト（数未確定）**
- [ ] 発見フェーズ: リサーチマスタープロンプト実行
- [ ] 総数確定: 発見結果による（目標70+ツール）
- [ ] 詳細リサーチ: バッチ起動術式作成・実行
- [ ] JSON化・ランキング生成
- [ ] Kxxxx作成（K番号は総数確定後に配分）

#### **3. 資格・スキル（数未確定）**
- [ ] 発見フェーズ: リサーチマスタープロンプト実行
- [ ] 総数確定: 発見結果による
- [ ] 詳細リサーチ: 各資格の価値・取得難易度調査
- [ ] JSON化・ランキング生成
- [ ] Kxxxx作成（K番号は総数確定後に配分）

#### **4. ガジェット（数未確定）**
- [ ] 発見フェーズ: リサーチマスタープロンプト実行
- [ ] 総数確定: 発見結果による
- [ ] 詳細リサーチ: 価格・性能・レビュー調査
- [ ] JSON化・ランキング生成
- [ ] Kxxxx作成（K番号は総数確定後に配分）

#### **5. 習慣・ルーティーン（数未確定）**
- [x] 既存データ確認（✅ habit-behavior-database.json・45習慣）
- [ ] 発見フェーズ: リサーチマスタープロンプト実行
- [ ] 総数確定: 既存45習慣+新発見習慣
- [ ] 統合データベース作成・TENスコア算出
- [ ] Kxxxx作成（K番号は総数確定後に配分）

#### **6. 書籍（数未確定）**
- [ ] 発見フェーズ: リサーチマスタープロンプト実行
- [ ] 総数確定: 発見結果による
- [ ] 詳細リサーチ: レビュー・実用性調査
- [ ] JSON化・ランキング生成
- [ ] Kxxxx作成（K番号は総数確定後に配分）

---

## ⚠️ AIツール構築で得られた重要教訓（全ジャンル必読）

### 🔴 発生した深刻な問題と解決に要した工数

#### **1. リサーチ結果フォーマット不統一による統合困難**
```bash
【問題】9バッチで異なるJSON構造・フィールド名
- バッチ1: toolName, id
- バッチ3: name のみ  
- バッチ4: name, toolId
- バッチ5: toolName （評価データなし）
- バッチ7,9: immediateEffect → 正解はimmediacy

【結果】10個のスクリプト開発 + 大量手作業が必要
1. correctFormatConverter.js - フォーマット統一
2. batchQualityChecker.js - 品質検証
3. totalScoreFixer.js - スコア再計算
4. cleanDuplicateTools.js - 重複削除
5. createCategoryWeightedRankings.js - ランキング補正
```

#### **2. データ完全性の重大問題** 
```bash
【問題】評価データの大量欠損
- バッチ5: 8ツール全て評価なし（全項目null）
- バッチ4: 3項目のみ評価、残り3項目欠損

【結果】完全再評価作業 + totalScore再計算が必要
→ evaluateBatch5Tools.js + completeBatch4Evaluation.js 開発
```

#### **3. ランキング結果の不自然性**
```bash
【問題】特化ツールが総合1位の異常事態
- Remove.bg（背景除去AI）: 580点で総合1位
- ChatGPT（対話AI）: 560点で2位以下

【結果】カテゴリ重要度補正システム開発が必要
→ createCategoryWeightedRankings.js で補正実装
```

### ✅ 確立されたベストプラクティス（他ジャンル必須）

#### **1. 事前フォーマット完全統一（最重要）**
```json
// 【絶対厳守】全ジャンル共通JSON構造
{
  "id": "XX001", 
  "toolName": "正式名称",
  "tenEvaluation": {
    "immediacy": 85,         // 即効性（必ず統一名）
    "simplicity": 90,        // 簡単さ（必ず統一名） 
    "popularity": 80,        // 人気度（必ず統一名）
    "costPerformance": 85,   // コスパ（必ず統一名）
    "specialization": 90,    // 機能専門性（必ず統一名）
    "productivityGain": 85,  // 生産性UP度（必ず統一名）
    "totalScore": 515        // 自動計算必須
  }
}
```

#### **2. リアルタイム品質チェック必須化**
```bash
✅ 品質チェック必須タイミング:
1. 各バッチ完了直後 → フォーマット・null値チェック
2. 全バッチ完了後 → 重複・古い情報削除  
3. 統合前 → データ完全性最終確認
4. ランキング生成前 → カテゴリ重要度補正
```

#### **3. カテゴリ重要度事前設計**
```javascript
// 各ジャンルで事前設計必須
const CATEGORY_WEIGHTS = {
  "主要・汎用カテゴリ": 1.0,     // 総合ランキングで上位期待
  "重要カテゴリ": 0.95,          
  "専門カテゴリ": 0.8,           
  "特化・ニッチ": 0.6            // 専用ランキングで評価
};
```

### 🎯 他ジャンルへの適用要件

1. **リサーチ開始前**: JSON構造・フィールド名の完全合意
2. **各バッチ後**: 品質チェックの即座実行  
3. **統合前**: 重複・古い情報の能動的削除
4. **ランキング前**: カテゴリ重要度による結果補正
5. **完成判定**: 総合ランキングの常識的妥当性確認

**→ これらの徹底により、AIツールで発生した問題を完全回避可能**

---

## 🗂️ ファイル構造と重要ファイル

### 📁 メインディレクトリ（6カテゴリ完全版）
```
/mnt/c/instagram-course/instagram-post-generator/ACTIVE-ROUTINES/04_REFERENCE/master-prompts/TEN-DATABASE/
├── 01_AIツールトレンド発見マスタープロンプト_V3.md ★完了
├── 02_生産性向上ツール・ソフトウェア・アプリリサーチマスタープロンプト_V1.md ★完了
├── 03_資格リサーチマスタープロンプト_V1.md ★完了
├── 04_ガジェットリサーチマスタープロンプト_V1.md ★完了
├── 05_習慣・ルーティーンリサーチマスタープロンプト_V1.md ★完了
├── 06_書籍リサーチマスタープロンプト_V1.md ★完了
├── TEN_DATABASE_JSON_SCHEMA.md ★完了・統一スキーマ定義
├── BATCH-RESEARCH/ ★完了・AIツール5バッチ起動術式
│   ├── 01_AIツールバッチ1詳細リサーチ起動術式_1-15.md ★完了
│   ├── 02_AIツールバッチ2詳細リサーチ起動術式_16-30.md ★完了
│   ├── 03_AIツールバッチ3詳細リサーチ起動術式_31-45.md ★完了
│   ├── 04_AIツールバッチ4詳細リサーチ起動術式_46-60.md ★完了
│   └── 05_AIツールバッチ5詳細リサーチ起動術式_61-72.md ★完了
└── DETAIL-RESEARCH/
    ├── 01_AIツール詳細リサーチプロンプト_V1.md ★完了
    └── [02-06_他カテゴリ詳細リサーチプロンプト] ★未作成
```

### 📁 管理ディレクトリ
```
/mnt/c/instagram-course/instagram-post-generator/ACTIVE-ROUTINES/01_DAILY_USE/ten-productivity-database/
├── TEN_MASTER_PLAN.md ★最重要・全体計画
├── TEN_DATABASE_構築共有ドキュメント.md ★このファイル
├── TEN_DATABASE_構築起動術式.md ★セッション開始時に実行
└── TEN生産性システム完全仕様書_Claude_Code専用_2025-08-30.md
```

### 🔍 参照すべき既存システム

#### 1. **KIKUYOシステム（成功事例）**
```
/app/data/companyDatabase/
├── companyMasterData.json ★152社統合DB
├── generateAllRankingsV2.js ★ランキング生成エンジン
└── targetNeedsPatternsV2.js ★150+パターン定義
```

#### 2. **既存TENコンテンツ**
```
/app/data/knowledgeBase/knowledge/type003/K901.json
★現在唯一のTEN投稿（無料生産性ツールTOP10）
```

#### 3. **習慣データベース（活用対象）**
```
/ACTIVE-ROUTINES/02_ACTIVE_CONTENTS/data-systems/03_DATABASE/habit-databases/habit-behavior-database.json
★45の生産性習慣・信頼性A級データ
```

#### 4. **マスタープロンプト参考**
```
/ACTIVE-ROUTINES/04_REFERENCE/master-prompts/
├── TYPE003企業ランキング/TYPE003-KIKUYO-MASTER-PROMPT.md ★参考にする
└── TYPE003生産性ランキング/TYPE003-TEN-MASTER-PROMPT.md ★既存TEN用
```

---

## 🔄 KIKUYOベース完全フロー構造（V4確定版）

### 正しい5フェーズフロー（KIKUYOシステム準拠）
```
フェーズ1: リサーチ起動術式実行
├─ バッチ1: AIツール1-15の詳細リサーチ起動術式
├─ バッチ2: AIツール16-30の詳細リサーチ起動術式
├─ バッチ3: AIツール31-45の詳細リサーチ起動術式
├─ バッチ4: AIツール46-60の詳細リサーチ起動術式
└─ バッチ5: AIツール61-72の詳細リサーチ起動術式
（各バッチで30+項目の詳細データ収集、5ソース確認原則）
↓
フェーズ2: リサーチ結果JSON保存起動術式
├─ 各バッチのJSON検証・構文チェック
├─ カテゴリ別ディレクトリ整理
└─ データ完全性確認（null値管理）
↓
フェーズ3: データベース統合起動術式
├─ aiToolsMasterData.json生成（72ツール完全データ）
├─ 全項目の実データ埋め込み完了
└─ KIKUYOのcompanyMasterData.json相当品質
↓
フェーズ4: ランキング生成起動術式
├─ targetNeedsPatternsV2.js相当の実装
├─ カテゴリ別・予算別・用途別パターン定義
└─ generateAllRankingsV2.js実行
↓
フェーズ5: Kxxxx作成（K902-K999）
├─ ランキングJSONから自動生成
└─ unified-template適用
```

### V4重要改善点
- **詳細リサーチ必須**: 72ツール全てに詳細データ収集（推測禁止）
- **バッチ処理**: 15ツールずつ起動術式で処理（効率化）
- **5ソース確認**: KIKUYOと同じ信頼性基準適用
- **マスターデータ構築**: 全項目実データで埋めて初めてデータベース

### 統一TEN評価軸（V3）
```
TENスコア = 即効性(20%) + 簡単さ(20%) + 人気度(15%) + コスパ(15%) + 機能専門性(20%) + 生産性UP度(10%)
```

### カテゴリ別特化要素
1. **AIツール**: 2025年最新技術、専門機能重視
2. **生産性ソフト**: 非AIツール、業界標準重視  
3. **資格**: キャリア効果、取得難易度重視
4. **ガジェット**: 実際の生産性効果、価格対効果重視
5. **習慣**: 科学的根拠、継続可能性重視
6. **書籍**: 実践しやすさ、即効性重視

---

## 📝 作成済みプロンプト一覧

### ✅ リサーチマスタープロンプト（6カテゴリ完了）
1. `01_AIツールトレンド発見マスタープロンプト_V3.md` ★完了・修正済み
2. `02_生産性向上ツール・ソフトウェア・アプリリサーチマスタープロンプト_V1.md` ★完了
3. `03_資格リサーチマスタープロンプト_V1.md` ★完了
4. `04_ガジェットリサーチマスタープロンプト_V1.md` ★完了
5. `05_習慣・ルーティーンリサーチマスタープロンプト_V1.md` ★完了
6. `06_書籍リサーチマスタープロンプト_V1.md` ★完了

### 🔄 詳細リサーチプロンプト（1/6完了）
1. `01_AIツール詳細リサーチプロンプト_V1.md` ★完了
2. `02_生産性ソフト詳細リサーチプロンプト_V1.md` - 未作成
3. `03_資格詳細リサーチプロンプト_V1.md` - 未作成
4. `04_ガジェット詳細リサーチプロンプト_V1.md` - 未作成
5. `05_習慣詳細リサーチプロンプト_V1.md` - 未作成
6. `06_書籍詳細リサーチプロンプト_V1.md` - 未作成

### ⏳ 未作成プロンプト
- JSON化プロンプト
- データベース統合プロンプト
- ランキング生成プロンプト
- Kxxxx作成プロンプト
- Relations.json更新プロンプト

---

## 💡 TEN評価軸（V3最新版）

### TENスコア算出式
```
TENスコア = 
  即効性(20%) + 
  簡単さ(20%) + 
  人気度(15%) + 
  コスパ(15%) + 
  機能専門性(20%) + 
  生産性UP度(10%)
```

### V3での改善点
- **機能専門性(20%)追加**: 専門的価値・差別化要素を重視
- **生産性UP度(10%)**: 「めんどくさがり対応」から変更、実際の効果重視
- **比重調整**: より実用性と専門性を重視したバランス

### 必須要素（V3更新版）
- **高い生産性向上効果** - 明確な時短・効率化
- **適切なコスパ** - 無料または合理的価格
- **導入の簡単さ** - 複雑な設定不要
- **専門的価値** - 明確な差別化・独自性
- **即効性** - 短期間で効果実感

---

## 🎭 TENキャラクター設定

### 基本設定
- **名前**: TEN（効率化マニア）
- **口調**: 古風な武士口調
- **語尾**: 「なり」「であるぞ」「でござる」
- **性格**: 情熱的・実践的・めんどくさがり
- **ターゲット**: T004（26-29歳、手段は決まっているが行動しない層）

### 表現例
- 「拙者が実際に使って効果があったツールなり！」
- 「5分で導入できて、即効果を実感できるであるぞ」
- 「めんどくさがりの拙者でも続いているツールばかりなり」

---

## 📌 Type003 JSON構造（TEN版）

### 基本構造
```json
{
  "source": "contents-ranking-productivity-xxx",
  "problemCategory": "生産性向上・効率化",
  "knowledgeId": "K90x", // K901〜K999を使用
  "postType": "003",
  "pageCount": 8,
  "targetIds": ["T004"],
  "detailedContent": {
    "page1": {}, // 導入・問題提起
    "page2": {}, // ランキング一覧
    "page3-7": {}, // 詳細（2項目ずつ）
    "page8": {} // まとめ・CTA
  }
}
```

---

## ⚠️ 重要な注意事項

### 1. **データの信頼性**
- 推測・憶測は絶対禁止
- 5ソース確認必須（KIKUYOと同じ）
- データがない場合はnull値で統一

### 2. **K番号管理**
- K901〜K999がTEN用
- K901は作成済み（要改善）
- 次はK902から順番に作成

### 3. **ディスカッションポイント**
- **習慣データベースの変換**: スコアは既存のまま、Page3以降の詳細記載内容確保が重要
- **KIKUYOマスタープロンプト**: キャラクターとテンプレート以外は基本流用可
- **フロー全体**: リサーチ→DB化→統合→ランキング→Kxxxxの一連のフロー確立

---

## 🚀 次のアクション（V4 KIKUYOベース）

### 優先度1: バッチ起動術式作成
1. バッチ1: AIツール1-15詳細リサーチ起動術式
2. バッチ2: AIツール16-30詳細リサーチ起動術式
3. バッチ3: AIツール31-45詳細リサーチ起動術式
4. バッチ4: AIツール46-60詳細リサーチ起動術式
5. バッチ5: AIツール61-72詳細リサーチ起動術式

### 優先度2: フェーズ1実行
1. 各バッチ起動術式でChatGPT/Claudeで詳細リサーチ実行
2. 30+項目の完全データ収集（推測禁止、null管理）
3. 5ソース確認原則の徹底

### 優先度3: フェーズ2-3実行
1. リサーチ結果JSON保存起動術式実行
2. データベース統合起動術式実行
3. aiToolsMasterData.json完成（72ツール完全データ）

### 優先度4: フェーズ4-5実装
1. targetNeedsPatterns.js相当の実装（150+パターン）
2. generateAllRankingsV2.js相当の実装
3. K902-K999自動生成システム稼働

---

## 📞 連絡・確認事項

### セッション開始時の確認項目
1. このドキュメントを読了したか
2. TEN_MASTER_PLAN.mdを読了したか
3. 前回の作業内容と継続点
4. 本日の作業目標

### 不明点がある場合
1. まず関連ドキュメントを確認
2. KIKUYOシステムの該当部分を参照
3. それでも不明な場合は質問

---

**このドキュメントは常に最新状態を保つこと**  
最終更新: 2025-08-30 (V3リサーチプロンプト完成・TEN評価軸統一反映)