# K132-168テンプレート適合性分析報告書
**分析期間**: 2025年7月27日  
**分析対象**: K132-168のナレッジベースコンテンツ  
**分析目的**: 既存テンプレートでは対応できない構造の特定と新テンプレート要件の抽出

## 1. 既存テンプレート構造パターン（参照対象）

### 1.1 AchievementSummaryTemplate
- **構造**: まとめタイトル + 達成ポイントリスト + 励ましメッセージ
- **適用場面**: K002等の最終ページ、達成まとめ系
- **データ構造**: `summaryTitle`, `achievementPoints[]`, `encouragementMessage`

### 1.2 BasicIntroTemplate
- **構造**: タイトル + ターゲット質問 + 問題リスト + 画像 + 追加メッセージ
- **適用場面**: 導入・問題提起ページ
- **データ構造**: `title`, `targetAudience`, `problems[]`, `additionalMessage`

### 1.3 CategoryExplanationTemplate
- **構造**: タイトル + メイン説明 + カテゴリ項目（⭕マーク解析）
- **適用場面**: カテゴリ分類説明型コンテンツ
- **データ構造**: `title`, `content[]`（⭕マーク付き項目を自動解析）

### 1.4 DualEnumerationTemplate
- **構造**: 2つのアイテムを上下配置（番号・タイトル・説明・画像）
- **適用場面**: 並列的な2項目紹介
- **データ構造**: `items[]`（最大2項目、number・title・description・imageSrc）

### 1.5 EmotionEmpathyListTemplate
- **構造**: 番号 + タイトル + コンテンツ項目並列 + 追加テキスト
- **適用場面**: 感情共感型問題解決
- **データ構造**: `number`, `title`, `content[]`, `additionalText`

## 2. 分析結果：適合しない構造のKxxxと必要テンプレート

### 2.1 【完全に対応できていない構造】

#### 🔴 **K140**: カテゴリサマリー型テンプレート不足
- **現在の割り当て**: page8で`category_summary`オーバーライド指定
- **必要な構造**: 
  ```
  改善例表示（before/after）+ 全カテゴリの一覧サマリー
  - 5つのカテゴリ（番号・名前・例文リスト）
  - 地雷ワード→よりそいワードの変換例示
  ```
- **特徴**: 既存のAchievementSummaryやCategoryExplanationでは表現不可能

#### 🔴 **K150**: グリッド式まとめテンプレート不足
- **現在の割り当て**: page9でグリッド形式の15項目表示が必要
- **必要な構造**:
  ```
  タイトル + サブタイトル + 15項目のグリッド表示
  - 各項目: 番号・タイトル・画像
  - 3×5のようなグリッドレイアウト
  - 最終メッセージ
  ```
- **特徴**: 大量項目の視覚的整理が必要

#### 🔴 **K168**: ツール機能紹介テンプレート不足
- **現在の割り当て**: typeID004（tools-services-introduction）だが専用テンプレートなし
- **必要な構造**:
  ```
  ツール基本説明 + 他ツールとの違い + 4つの機能詳細紹介
  - 各機能: 番号・タイトル・説明・process（before/after）・benefit
  - 実用的なツール活用フォーマット
  ```

#### 🔴 **K155**: 効率化ヒケツテンプレート不足
- **現在の割り当て**: typeID004だが専用テンプレート不在
- **必要な構造**:
  ```
  効果説明（before/after） + 5つのヒケツ詳細説明
  - 各ヒケツ: 番号・タイトル・説明・具体例・効果
  - 実践的な改善方法フォーマット
  ```

### 2.2 【部分的に対応可能だが最適化不足】

#### 🟡 **K132, K135, K145, K162**: 
- **現状**: DualEnumerationTemplateで暫定対応可能
- **問題点**: 12項目を2項目ずつ6ページに分割する非効率性
- **改善案**: 12項目まとめテンプレートで視認性向上

#### 🟡 **K160**: 
- **現状**: EmotionEmpathyListTemplateで対応
- **問題点**: 感情共感特化で汎用性不足
- **現在のページ構成**: typeID001-emotion-empathy-list（問題なし）

## 3. 必要な新テンプレート仕様

### 3.1 **CategorySummaryTemplate** 【最優先】
```typescript
interface CategorySummaryData {
  title: string;
  subtitle?: string;
  improvementExample: {
    before: string;
    beforeIcon: string;
    after: string;
    afterIcon: string;
    tip: string;
  };
  categorySummary: Array<{
    number: string;
    name: string;
    examples: string[];
  }>;
}
```

### 3.2 **GridSummaryTemplate** 【高優先】
```typescript
interface GridSummaryData {
  title: string;
  subtitle?: string;
  grid: Array<{
    number: string;
    title: string;
    imageSrc?: string;
  }>;
  finalMessage?: string;
}
```

### 3.3 **ToolIntroductionTemplate** 【高優先】
```typescript
interface ToolIntroductionData {
  toolName: string;
  basicDescription: string;
  differenceFeatures: string[];
  functions: Array<{
    number: string;
    title: string;
    description: string;
    process?: {
      before: string;
      after: string;
    };
    benefit: string;
  }>;
}
```

### 3.4 **EfficiencyTipsTemplate** 【中優先】
```typescript
interface EfficiencyTipsData {
  title: string;
  effectExample: {
    before: string;
    after: string;
    benefit: string;
  };
  tips: Array<{
    number: string;
    title: string;
    description: string;
    example?: string;
    benefit: string;
  }>;
}
```

## 4. 影響範囲と対応優先度

### 🔴 **緊急対応必要** (structureScore < 1.0の原因)
1. **K140** - CategorySummaryTemplate不足
2. **K150** - GridSummaryTemplate不足
3. **K168** - ToolIntroductionTemplate不足
4. **K155** - EfficiencyTipsTemplate不足

### 🟡 **効率化改善対象** (現在対応可能だが非効率)
- K132, K135, K145, K162の12項目並列系コンテンツ

## 5. 開発推奨順序

1. **CategorySummaryTemplate** - K140で即座に必要
2. **GridSummaryTemplate** - K150の15項目表示で必要
3. **ToolIntroductionTemplate** - K168のGemini紹介で必要
4. **EfficiencyTipsTemplate** - K155の夜時間活用で必要

## 6. 100点ルールの実現

現在のstructureScore < 1.0の根本原因は、上記4つの専用テンプレートの不足です。これらのテンプレートを実装することで、全てのコンテンツが専用の最適化されたテンプレートでstructureScore = 1.0を達成できます。

**妥協のない100点マッチングの実現 = 上記4テンプレートの実装**