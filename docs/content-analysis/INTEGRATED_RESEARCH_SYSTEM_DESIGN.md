# Instagram投稿生成システム - 統合リサーチ設計書

**作成日**: 2025-07-21  
**設計目的**: 高品質Instagram投稿の自動生成システム構築  
**設計範囲**: リサーチプロンプト生成工程の完全設計  
**設計者**: Claude & ユーザー共同設計

---

## 🎯 システム概要

### 核心コンセプト
**成功実績のある投稿の多軸分析結果を活用して、ユーザー入力に対して最適化されたリサーチプロンプトを自動生成するシステム**

### 設計思想
- **100点ルール**: 100点未満の妥協は品質劣化 → 完璧マッチのみ採用
- **AI負荷最小化**: 事前分析データ活用により軽量処理を実現
- **ニーズベース分類**: 属性より課題・心理状態を重視したペルソナ設計

---

## 📊 投稿タイプ × ターゲット体系

### 確定TypeID体系（4タイプ）

#### TypeID=001: キャリアの悩み解決法
- **システム内名称**: 共感・感情誘導型
- **ユーザー向け表示**: キャリアの悩み解決法
- **対象ターゲット**:
  - 就活に不安を感じている学生
  - 仕事のストレスで悩んでいる人
  - 転職すべきか迷っている人
- **特徴**: 体験談・ストーリー・心理的サポート重視

#### TypeID=002: スキルアップガイド  
- **システム内名称**: 教育・学習特化型
- **ユーザー向け表示**: スキルアップガイド
- **対象ターゲット**:
  - 就活で差をつけたい学生
  - 新しいスキルを身につけたい人
  - キャリアアップしたい人
- **特徴**: 段階的知識習得・体系的教育・最多投稿タイプ

#### TypeID=003: 業界・企業情報まとめ
- **システム内名称**: 情報提供・データ型
- **ユーザー向け表示**: 業界・企業情報まとめ
- **対象ターゲット**:
  - 業界研究をしている就活生
  - 転職先を探している人
  - 企業選択で迷っている人
- **特徴**: 客観データ・包括的情報・リソース価値

#### TypeID=004: 効率アップテクニック
- **システム内名称**: 効率・実用特化型
- **ユーザー向け表示**: 効率アップテクニック
- **対象ターゲット**:
  - AIを仕事に活かしたい人
  - 生産性を上げたい人
  - 時短で結果を出したい就活生
- **特徴**: 即効性・シンプル実践・新発見タイプ

---

## 🧠 ペルソナ設計理論

### ニーズベース分類原則
**同じ属性（年齢・職業）でも、求めているものが違えば別のペルソナとして扱う**

### 設計方針
- **属性よりもニーズ**: 年齢・職業よりも課題・心理状態を重視
- **TypeID連携**: 各投稿タイプに最適化されたペルソナグループを構成
- **P001-P010再編成**: 既存ペルソナを4つのターゲットカテゴリに再分類

### 具体例: 学生セグメント分化
- **キャリアの悩み解決法を求める学生**: 不安・迷い・心理的サポートが必要
- **スキルアップガイドを求める学生**: 成長・差別化・具体的スキル習得が必要
- **業界・企業情報まとめを求める学生**: 情報収集・比較検討・客観的判断が必要
- **効率アップテクニックを求める学生**: 時短・生産性・実用的手法が必要

---

## 🔄 システムフロー設計（8ステップ）

### Step 1: 投稿タイプ選択
**ユーザーインターフェース**:
```
投稿タイプを選択してください:
□ キャリアの悩み解決法 (TypeID=001)
□ スキルアップガイド (TypeID=002)
□ 業界・企業情報まとめ (TypeID=003)
□ 効率アップテクニック (TypeID=004)
```
**内部処理**: TypeID確定

### Step 2: ターゲット選択
**ユーザーインターフェース**: 選択されたTypeIDに対応するターゲット一覧表示
- 例：キャリアの悩み解決法 → 就活に不安を感じている学生、仕事のストレスで悩んでいる人、転職すべきか迷っている人

**内部処理**: TypeID×ターゲット → ペルソナグループ確定（複数ペルソナの候補範囲）

### Step 3: 検索対象絞り込み
**処理内容**: ペルソナグループに紐づくテーマ群を抽出
- **目的**: AI処理負荷の大幅軽減
- **結果**: 検索対象テーマ群（例：10個程度）確定

### Step 4: 投稿内容入力
**「どういう投稿をしたいか」**をユーザーが自由入力
- 例: 「PCショートカットキー」
- 例: 「就活で差がつくExcel技」
- 例: 「レポート作成時短術」

### Step 5: AI最適テーマ選択
**処理内容**: 絞り込まれたテーマ群の中から最適テーマを選択
- **比較対象**: テーマレベル（コンテンツレベルではない）
- **選択基準**: ユーザー入力との類似度 × エンゲージメント評価スコア
- **結果**: 最適テーマ確定 → そのテーマのコンテンツID自動決定

### Step 6: 4軸分析結果確定
**自動取得**: 確定したコンテンツIDに紐づく4軸分析結果
- **ペルソナ軸**: 対象ユーザーの特性・ニーズ・行動パターン（1つ確定）
- **テーマ軸**: コンテンツの核心要素・構造・文脈（1つ確定）
- **表現方法軸**: 最適な情報展開方法・表現手法（1つ確定）
- **有益性軸**: 提供すべき価値要素・独自性・実用性（1つ確定）

### Step 7: リサーチプロンプト生成AI呼び出し
**処理内容**: 4軸分析生データをリサーチプロンプトに変換
- **入力データ**: 
  - ユーザー入力内容（例: 「就活でAIを活用して効率アップ！」）
  - 確定した4軸分析結果（ペルソナ・テーマ・表現・有益性の詳細データ）
- **AI処理**: 
  - 4軸生データの解釈・構造化
  - ユーザー入力に最適化したリサーチプロンプト自動生成
  - ペルソナ要件・テーマ要件・表現要件・有益性要件の具体化
- **出力**: 実用的で具体的なリサーチプロンプト

### Step 8: 後続システム連携 + 最終表現
**3段階プロンプト活用**:
1. **リサーチ実行**: 生成されたプロンプトでの情報収集
2. **フォーマッター**: 有益性軸に基づく価値構造化
3. **コンテンツ生成**: 表現軸に基づく最終コンテンツ作成

**最終表現システム**:
- **ページ構成**: 確定したコンテンツIDに対応するページ構成パターンを適用
- **テンプレート選択**: ページ構成 × 表現方法に基づく最適テンプレート自動選択
- **最終表示**: 選択されたテンプレートでの高品質コンテンツ表示

**完全連動システム**:
```
コンテンツID確定
├── 4軸分析結果
│   ├── テーマ軸 → リサーチプロンプト
│   ├── 有益性軸 → フォーマッター + コンテンツ生成
│   ├── 表現軸 → コンテンツ生成 + テンプレート選択
│   └── ペルソナ軸 → 全工程最適化
├── ページ構成パターン → テンプレート選択
└── 最終表示 → ユーザー体験完結
```

---

## 💡 システム設計の核心

### コンテンツID中心の設計思想
**1つのコンテンツID = 4軸の完全セット**
```
コンテンツID = {
  ペルソナ: 1つ確定
  テーマ: 1つ確定
  表現方法: 1つ確定  
  有益性: 1つ確定
}
```

### AI負荷軽減の設計思想
**段階的絞り込みによる処理最適化**
- ペルソナグループ絞り込み → テーマ群絞り込み → テーマレベル選択
- 全コンテンツ比較（100件）ではなく、テーマ比較（10件程度）
- 大幅な処理負荷軽減と高速レスポンス実現

### プロンプト生成AI導入の意義
**人間解釈作業の完全自動化**
- 4軸生データを人間が解釈する作業をAI化
- 「生データ → 実用的プロンプト」の自動変換
- システム完全自動化の実現と品質安定化

### 個別ID体系の不要性
**P001、E001等の統合ID体系は不要**
- システムが選択するのはコンテンツID
- コンテンツIDの4軸分析結果をそのまま活用
- 統合・分類作業が不要なシンプル設計

---

## 🛠️ 技術実装仕様

### データベース設計
```sql
-- コンテンツマスタ
ContentID | TypeID | PersonaGroupID | EngagementScore | Title

-- 5軸分析データ  
ContentID | PersonaID | ExpressionID | BenefitID | ThemeID | TypeID

-- ペルソナグルーピング
GroupID | TypeID | GroupName | PersonaIDs

-- テーマ-ペルソナ連携
ThemeID | PersonaID | RelevanceScore
```

### AI処理要件
- **軽量マッチング**: 類似度判定のみ（数件からの選択）
- **重い分析は事前完了**: 5軸分析は全てDB格納済み
- **処理速度重視**: ユーザー待機時間最小化
- **スケーラビリティ**: 新コンテンツ追加時の自動更新対応

### システム利点
1. **AI負荷の最小化**: 事前分析により軽量処理実現
2. **精度の最大化**: 成功実績活用による高品質保証
3. **完全自動化**: ユーザーは最小限の選択のみ
4. **スケーラビリティ**: DB拡張に従って精度・選択肢が向上
5. **一貫性の確保**: 統一フォーマットによる品質安定

---

## 🎯 成功事例: Contents-88パターン

### 選択プロセス例
```
Step1: TypeID=002（スキルアップガイド）選択
Step2: ユーザー入力「PCショートカットキー」
Step3: ペルソナグループ[P006: 意思決定者層]特定
Step4: テーマ検索対象[T001: PC効率化]絞り込み
Step5: Contents-88が最適マッチとして選択
Step6: Contents-88の5軸分析結果参照
Step7: リサーチプロンプト自動生成
```

### 生成されるプロンプト例
```
【作りたい投稿】: PCショートカットキー

【5軸分析に基づく要件】:

【ペルソナ要件】:
- 対象: 18-22歳、大学生、PC作業多数
- 文脈: 大学レポート、プレゼン準備、就活での使用
- 特性: 効率性重視、実用価値追求、習慣継続志向

【表現要件】:
- 手法: 価値提示→シンプル手法→即実践→習慣継続
- トーン: 実用的レイアウト、カテゴリ分け、価値強調
- 構成: 段階的スキル習得、整理性・詳細性・簡潔性バランス

【有益性要件】:
- 価値: 即実践から習慣継続につながる内容
- 独自性: 「保存必須」レベルの価値訴求
- 実用性: 今すぐ使えるキー操作の提供

【テーマ要件】:
- 範囲: PC効率化の基本→装飾→専門の段階設計
- 構造: カテゴリ別体系化（頻繁使用・文字装飾・Excel）
- 文脈: 大学生の作業場面での具体的メリット提示

【リサーチ指示】:
上記要件を満たす「PCショートカットキー」の具体的情報を収集してください
```

---

## 📈 期待効果

### ユーザー体験向上
- **3回の選択のみ**: 複雑な設定不要
- **高品質保証**: 成功事例ベースの確実な結果
- **処理速度**: 軽量AI処理による高速レスポンス

### コンテンツ品質向上  
- **100点ルール**: 妥協なき品質基準
- **成功パターン再現**: 実績データ活用による高確率成功
- **一貫性確保**: 統一された要件定義システム

### システム拡張性
- **新コンテンツ対応**: 自動学習・更新機能
- **多様性対応**: あらゆるテーマ・タイプに適用可能
- **精度向上**: データ蓄積に伴う継続的改善

---

## 🚀 実装準備状況

### 完了事項
✅ **投稿タイプ×ターゲット体系確定**  
✅ **ペルソナ設計理論確立**  
✅ **7ステップフロー設計完了**  
✅ **技術仕様策定完了**  
✅ **成功事例検証済み（Contents-88）**

### 次フェーズ要件
🔄 **ペルソナグルーピング実施**: P001-P010の4ターゲットカテゴリへの振り分け  
🔄 **エンゲージメント指標定義**: 評価スコア計算式確定  
🔄 **マッチング精度設計**: 類似度判定アルゴリズム詳細化

---

## 📋 引き継ぎ要件

### 必須実装要素
1. **TypeID-ペルソナ連携テーブル**: 各投稿タイプに対応するペルソナグループ
2. **テーマ-ペルソナ関連度**: 検索対象絞り込み用スコア
3. **プロンプトテンプレート**: 5軸分析結果からの自動生成ロジック
4. **評価指標システム**: エンゲージメントスコア計算・更新機能

### 検証必要事項
- **マッチング精度**: ユーザー入力→テーマ選択の正確性
- **プロンプト品質**: 生成されるリサーチ指示の有効性
- **システム性能**: レスポンス時間・処理負荷の最適化

---

**設計完了**: 2025-07-21  
**設計状況**: 基本設計完了・詳細設計準備完了  
**次段階**: ペルソナグルーピング実装・システム詳細化