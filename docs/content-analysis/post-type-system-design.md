# æŠ•ç¨¿ã‚¿ã‚¤ãƒ—ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

## ğŸ“‹ æ¦‚è¦

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€æ—¢å­˜ã®ã‚¸ãƒ£ãƒ³ãƒ«åˆ¤å®šã‚·ã‚¹ãƒ†ãƒ ã‚’æŠ•ç¨¿ã‚¿ã‚¤ãƒ—ã‚·ã‚¹ãƒ†ãƒ ã«ç½®ãæ›ãˆã€4ã¤ã®åˆ†æãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ä¾¡å€¤ã‚’ç¢ºå®Ÿã«å®Ÿç¾ã™ã‚‹ãŸã‚ã®è¨­è¨ˆã‚’è¨˜éŒ²ã—ãŸã‚‚ã®ã§ã™ã€‚

**ä½œæˆæ—¥**: 2025-07-19  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: åŸºæœ¬è¨­è¨ˆå®Œäº†ã€å®Ÿè£…æº–å‚™æ®µéš  
**å‰æ**: çµ±åˆåˆ†æãƒ»è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åŸºã¥ãå…·ä½“çš„å®Ÿè£…ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

## ğŸ¯ æŠ•ç¨¿ã‚¿ã‚¤ãƒ—ã‚«ãƒ†ã‚´ãƒ©ã‚¤ã‚ºï¼ˆä»®èª¬ç‰ˆï¼‰

### ç¢ºèªæ¸ˆã¿æŠ•ç¨¿ã‚¿ã‚¤ãƒ—ï¼ˆ3ã¤ï¼‰

#### 1. **å…±æ„Ÿå‹ãƒ•ã‚¡ãƒãƒ«æ§‹æˆ** (`empathy-funnel`)
- **åˆ†æå…ƒ**: contents-1
- **ç‰¹å¾´**: æ®µéšçš„å…±æ„Ÿé†¸æˆâ†’å¿ƒç†èª˜å°â†’CTA
- **æ§‹æˆ**: 9æšï¼ˆå•é¡Œèªè­˜â†’å…±æ„Ÿæ·±åŒ–â†’è§£æ±ºç­–â†’è¡Œå‹•ï¼‰
- **å¿ƒç†è¨­è¨ˆ**: AIDMAå®Œå…¨å®Ÿè£…ã€æ„Ÿæƒ…85%ï¼šè«–ç†15%

#### 2. **æ•™è‚²å‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æ§‹æˆ** (`educational-content`)
- **åˆ†æå…ƒ**: contents-2  
- **ç‰¹å¾´**: ä½“ç³»çš„æ•™è‚²â†’ä¿¡é ¼é–¢ä¿‚æ§‹ç¯‰â†’ç¶™ç¶šçš„é–¢ä¿‚
- **æ§‹æˆ**: 10æšï¼ˆå•é¡Œæèµ·â†’7ã¤ã®Pointâ†’è¡Œå‹•ä¿ƒé€²ï¼‰
- **ä¾¡å€¤è¨­è¨ˆ**: ç†è«–ã¨å®Ÿè·µã®ãƒãƒ©ãƒ³ã‚¹ã€æ•™è‚²çš„ä¾¡å€¤æä¾›

#### 3. **è¦ç´„â†’è¨¼æ˜â†’è¡Œå‹•ä¿ƒé€²å‹** (`proof-driven`)
- **åˆ†æå…ƒ**: contents-3
- **ç‰¹å¾´**: æ‰‹é †è¦ç´„â†’å®Ÿç¸¾è¨¼æ˜â†’ã‚ªãƒ•ã‚¡ãƒ¼æç¤º
- **æ§‹æˆ**: 3æšï¼ˆã¾ã¨ã‚â†’è¨¼æ˜â†’CTAï¼‰
- **æˆ¦ç•¥**: ç¤¾ä¼šçš„è¨¼æ˜ã«ã‚ˆã‚‹ä¿¡é ¼æ€§æ§‹ç¯‰

### ä»®èª¬çš„è¿½åŠ æŠ•ç¨¿ã‚¿ã‚¤ãƒ—ï¼ˆ3ã¤ï¼‰

#### 4. **ãƒªã‚¹ãƒˆå‹æƒ…å ±æä¾›æ§‹æˆ** (`list-informational`)
- **æƒ³å®š**: ã€Œè»¢è·ã«å¿…è¦ãª5ã¤ã®æº–å‚™ã€ã€Œé¢æ¥ã§ã‚ˆãèã‹ã‚Œã‚‹è³ªå•10é¸ã€
- **ç‰¹å¾´**: æƒ…å ±æ•´ç†â†’ä¾¡å€¤æä¾›â†’å®Ÿè·µä¿ƒé€²
- **æ§‹æˆ**: 5-7æšï¼ˆã‚¿ã‚¤ãƒˆãƒ«â†’ãƒªã‚¹ãƒˆé …ç›®â†’è©³ç´°â†’ã¾ã¨ã‚ï¼‰

#### 5. **ã‚¹ãƒ†ãƒƒãƒ—å‹ã‚¬ã‚¤ãƒ‰æ§‹æˆ** (`step-guide`)
- **æƒ³å®š**: ã€ŒESä½œæˆã®å®Œå…¨ã‚¬ã‚¤ãƒ‰ã€ã€Œè‡ªå·±åˆ†æã®æ‰‹é †ã€
- **ç‰¹å¾´**: æ‰‹é †èª¬æ˜â†’å®Ÿè·µæ”¯æ´â†’æˆæœä¿è¨¼
- **æ§‹æˆ**: 6-8æšï¼ˆæ¦‚è¦â†’å„ã‚¹ãƒ†ãƒƒãƒ—â†’æ³¨æ„ç‚¹â†’å®Œäº†ï¼‰

#### 6. **ä½“é¨“è«‡å‹ã‚¹ãƒˆãƒ¼ãƒªãƒ¼æ§‹æˆ** (`story-experience`)
- **æƒ³å®š**: ã€Œå†…å®šç²å¾—ã¾ã§ã®å®Ÿä½“é¨“ã€ã€Œè»¢è·æˆåŠŸè«‡ã€
- **ç‰¹å¾´**: ã‚¹ãƒˆãƒ¼ãƒªãƒ¼å±•é–‹â†’å…±æ„Ÿâ†’å­¦ã³â†’è¡Œå‹•ä¿ƒé€²
- **æ§‹æˆ**: 8-10æšï¼ˆèƒŒæ™¯â†’å›°é›£â†’è»¢æ©Ÿâ†’æˆæœâ†’å­¦ã³ï¼‰

## ğŸ“Š å„æŠ•ç¨¿ã‚¿ã‚¤ãƒ—ã®å¿…è¦ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

### 1. å…±æ„Ÿå‹ãƒ•ã‚¡ãƒãƒ«æ§‹æˆ (`empathy-funnel`)
```typescript
interface EmpathyFunnelData {
  // å•é¡Œæèµ·ãƒ•ã‚§ãƒ¼ã‚º
  problems: Array<{
    title: string
    examples: string[]
    emotionalDescription: string
    emphasis: string
    comment?: string
  }>
  
  // å…±æ„Ÿæ·±åŒ–ãƒ•ã‚§ãƒ¼ã‚º  
  empathyScenarios: Array<{
    title: string
    scenario: string
    realization: string
    struggle: string
  }>
  
  // è»¢æ›ç‚¹ãƒ•ã‚§ãƒ¼ã‚º
  transition: {
    questions: string[]
    emotionalResponse: string
    understanding: string
    transitionMessage: string
  }
  
  // è§£æ±ºç­–ãƒ»CTA
  solution: {
    serviceTitle: string
    subtitle: string
    problemExamples: string[]
    callToAction: string
    additionalResource?: string
  }
}
```

### 2. æ•™è‚²å‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æ§‹æˆ (`educational-content`)
```typescript
interface EducationalContentData {
  // ãƒ¡ã‚¤ãƒ³ã‚¿ã‚¤ãƒˆãƒ«
  mainTitle: string
  titleLines: string[]
  
  // å•é¡Œæèµ·
  problemIntro: {
    title: string
    question: string
    checklist: Array<{text: string, checked: boolean}>
    closingMessage: string
  }
  
  // Pointæ§‹é€ 
  points: Array<{
    pointNumber: number
    title: string
    content?: string
    currentState?: string
    recommendation?: string
    actionItems?: string[]
    explanation?: string
    comparison?: string
    actionAdvice?: string
    encouragement?: string
  }>
  
  // è¡Œå‹•ä¿ƒé€²ãƒ»CTA
  actionCTA: {
    mainMessage: string
    primaryCTA: string
    actionAdvice: string
    additionalInfo: string
    phoneScreen?: string
  }
}
```

### 3. è¦ç´„â†’è¨¼æ˜â†’è¡Œå‹•ä¿ƒé€²å‹ (`proof-driven`)
```typescript
interface ProofDrivenData {
  // æ‰‹é †è¦ç´„
  summary: {
    title: string
    subtitle: string
    steps: Array<{
      step: number
      title: string
      description?: string
    }>
    bottomCallToAction: string
  }
  
  // å®Ÿç¸¾è¨¼æ˜
  proof: {
    title: string
    badgeText: string
    subtitle: string
    testimonial: {
      screenshot: string
      username: string
      mention?: string
      achievement: string
      details: string
    }
    bottomCallToAction: string
  }
  
  // ã‚ªãƒ•ã‚¡ãƒ¼æç¤º
  offer: {
    title: string
    badges: string[]
    subtitle: string
    description: string
    benefits: Array<{
      title: string
      image: string
    }>
    finalCallToAction: {
      instruction: string
      keyword: string
      result: string
    }
  }
}
```

### 4. ãƒªã‚¹ãƒˆå‹æƒ…å ±æä¾›æ§‹æˆ (`list-informational`)
```typescript
interface ListInformationalData {
  mainTitle: string
  itemCount: number
  
  introduction: {
    title: string
    description: string
    targetAudience: string
  }
  
  listItems: Array<{
    number: number
    title: string
    description: string
    details?: string[]
    tips?: string
  }>
  
  conclusion: {
    summary: string
    nextSteps: string
    callToAction: string
  }
}
```

### 5. ã‚¹ãƒ†ãƒƒãƒ—å‹ã‚¬ã‚¤ãƒ‰æ§‹æˆ (`step-guide`)
```typescript
interface StepGuideData {
  guideTitle: string
  totalSteps: number
  estimatedTime: string
  
  overview: {
    title: string
    description: string
    whatYouWillGet: string[]
  }
  
  steps: Array<{
    stepNumber: number
    title: string
    description: string
    actionItems: string[]
    tips?: string
    warnings?: string
    timeRequired?: string
  }>
  
  completion: {
    checklistTitle: string
    checklist: string[]
    nextSteps: string
    support: string
  }
}
```

### 6. ä½“é¨“è«‡å‹ã‚¹ãƒˆãƒ¼ãƒªãƒ¼æ§‹æˆ (`story-experience`)
```typescript
interface StoryExperienceData {
  storyTitle: string
  narrator: string
  timeframe: string
  
  background: {
    title: string
    situation: string
    challenges: string[]
  }
  
  journey: Array<{
    phase: string
    title: string
    situation: string
    feelings: string
    actions: string[]
    results: string
  }>
  
  learnings: {
    title: string
    keyLearnings: string[]
    advice: string
    inspiration: string
  }
  
  actionPrompt: {
    message: string
    specificActions: string[]
    support: string
  }
}
```

## ğŸ¨ å¿…è¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¦ä»¶ï¼ˆæŠ•ç¨¿ã‚¿ã‚¤ãƒ—åˆ¥ï¼‰

### å…±æ„Ÿå‹ãƒ•ã‚¡ãƒãƒ« - 4ã¤ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
1. `empathy-problem-intro` - å•é¡Œæèµ·+ä¾‹ç¤º+æ„Ÿæƒ…è¡¨ç¾
2. `empathy-scenario` - ã‚·ãƒŠãƒªã‚ªæå†™+å®Ÿæ„Ÿ+è¤‡åˆæ„Ÿæƒ…
3. `empathy-transition` - è¤‡æ•°ç–‘å•+æ„Ÿæƒ…åå¿œ+è»¢æ›ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸  
4. `empathy-solution-cta` - ã‚µãƒ¼ãƒ“ã‚¹ç´¹ä»‹+å•é¡Œä¾‹+CTA

### æ•™è‚²å‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ - 3ã¤ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
1. `educational-title` - è¤‡æ•°è¡Œå¼·èª¿+èƒŒæ™¯çµ±åˆ
2. `educational-point` - Pointç•ªå·+å¤šæ§˜ãªæ§‹é€ å¯¾å¿œ
3. `educational-multi-cta` - è¤‡æ•°CTA+è¡Œå‹•ã‚¢ãƒ‰ãƒã‚¤ã‚¹

### è¨¼æ˜å‹ - 3ã¤ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
1. `proof-summary` - æ‰‹é †è¦ç´„+ãƒšãƒ¼ã‚¸ç•ªå·+èª˜å°
2. `proof-testimonial` - å®Ÿç¸¾è¨¼æ˜+ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆçµ±åˆ
3. `proof-offer` - è¤‡æ•°ãƒãƒƒã‚¸+ç‰¹å…¸ã‚°ãƒªãƒƒãƒ‰+æœ€çµ‚CTA

## ğŸ”„ æ—¢å­˜ã‚¸ãƒ£ãƒ³ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ã®ç½®ãæ›ãˆè¨­è¨ˆ

### ç¾åœ¨ã®ã‚¸ãƒ£ãƒ³ãƒ«ã‚·ã‚¹ãƒ†ãƒ æ§‹é€ 
```typescript
// app/types/genre.ts
type Genre = 'knowhow' | 'book-recommendation' | 'internship-deadline' | ...

interface GenreConfig {
  genre: Genre
  description: string
  keywords: string[]
  optimalItemRange: { min: number; max: number }
  contentStructure: string[]
}

// app/services/genreDetector.ts  
class GenreDetector {
  detectGenre(content: string): Genre
  calculateScore(content: string, keywords: string[]): number
}
```

### æŠ•ç¨¿ã‚¿ã‚¤ãƒ—ã‚·ã‚¹ãƒ†ãƒ ã¸ã®ç½®ãæ›ãˆ
```typescript
// app/types/postType.ts (æ–°è¦ä½œæˆ)
export type PostType = 
  | 'empathy-funnel'           // å…±æ„Ÿå‹ãƒ•ã‚¡ãƒãƒ«æ§‹æˆ
  | 'educational-content'      // æ•™è‚²å‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æ§‹æˆ  
  | 'proof-driven'            // è¦ç´„â†’è¨¼æ˜â†’è¡Œå‹•ä¿ƒé€²å‹
  | 'list-informational'      // ãƒªã‚¹ãƒˆå‹æƒ…å ±æä¾›æ§‹æˆ
  | 'step-guide'              // ã‚¹ãƒ†ãƒƒãƒ—å‹ã‚¬ã‚¤ãƒ‰æ§‹æˆ
  | 'story-experience'        // ä½“é¨“è«‡å‹ã‚¹ãƒˆãƒ¼ãƒªãƒ¼æ§‹æˆ
  | 'general'                 // ãã®ä»–

export interface PostTypeConfig {
  postType: PostType
  description: string
  keywords: string[]
  pageRange: { min: number; max: number }
  templateTypes: string[]
  dataStructure: string[]
  
  // å¼·åˆ¶åŠ›ã‚’æŒã¤æ–°è¦ç´ 
  requiredPages: PageTemplate[]        // å¿…é ˆãƒšãƒ¼ã‚¸æ§‹æˆ
  requiredDataStructure: DataStructure // å¿…é ˆãƒ‡ãƒ¼ã‚¿æ§‹é€ 
  forcedTemplateSelection: boolean     // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¼·åˆ¶é©ç”¨
}

export const POST_TYPE_CONFIGS: PostTypeConfig[] = [
  {
    postType: 'empathy-funnel',
    description: 'æ®µéšçš„å…±æ„Ÿé†¸æˆã«ã‚ˆã‚‹å¿ƒç†èª˜å°',
    keywords: ['ä¸å®‰', 'æ‚©ã¿', 'ã‚ã‚‹ã‚ã‚‹', 'å¥³æ€§', 'å…±æ„Ÿ', 'è¾›ã„', 'å›°ã‚‹'],
    pageRange: { min: 8, max: 10 },
    templateTypes: ['empathy-problem-intro', 'empathy-scenario', 'empathy-transition', 'empathy-cta'],
    dataStructure: ['problems', 'empathyScenarios', 'transition', 'solution'],
    requiredPages: [
      { templateType: 'empathy-problem-intro', dataRequirements: ['problems'] },
      { templateType: 'empathy-scenario', dataRequirements: ['empathyScenarios'] },
      { templateType: 'empathy-transition', dataRequirements: ['transition'] },
      { templateType: 'empathy-solution-cta', dataRequirements: ['solution'] }
    ],
    forcedTemplateSelection: true
  },
  {
    postType: 'educational-content',
    description: 'ä½“ç³»çš„æ•™è‚²ã«ã‚ˆã‚‹ä¿¡é ¼é–¢ä¿‚æ§‹ç¯‰',
    keywords: ['ãƒã‚¤ãƒ³ãƒˆ', 'ã¤ã®ã‚³ãƒ„', 'ã¤ã®æ–¹æ³•', 'å­¦ã¶', 'çŸ¥ã‚‹', 'ã‚¹ãƒ†ãƒƒãƒ—'],
    pageRange: { min: 8, max: 12 },
    templateTypes: ['educational-title', 'educational-point', 'educational-multi-cta'],
    dataStructure: ['mainTitle', 'problemIntro', 'points', 'actionCTA'],
    requiredPages: [
      { templateType: 'educational-title', dataRequirements: ['mainTitle'] },
      { templateType: 'educational-point', dataRequirements: ['points'] },
      { templateType: 'educational-multi-cta', dataRequirements: ['actionCTA'] }
    ],
    forcedTemplateSelection: true
  }
  // ... ä»–ã®æŠ•ç¨¿ã‚¿ã‚¤ãƒ—
]
```

### Detectorã‚¯ãƒ©ã‚¹ã®Post Typeç‰ˆ
```typescript
// app/services/postTypeDetector.ts (genreDetector.tsã‚’æ”¹è‰¯)
export class PostTypeDetector {
  private postTypeConfigs: PostTypeConfig[] = POST_TYPE_CONFIGS

  detectPostType(content: string): PostType {
    // æ—¢å­˜ã®genreDetectorãƒ­ã‚¸ãƒƒã‚¯ã‚’ãã®ã¾ã¾æ´»ç”¨
    const normalizedContent = content.toLowerCase()
    
    const scores = this.postTypeConfigs.map(config => ({
      postType: config.postType,
      score: this.calculateScore(normalizedContent, config.keywords)
    }))
    
    const bestMatch = scores.reduce((best, current) => 
      current.score > best.score ? current : best
    )
    
    return bestMatch.score >= 0.1 ? bestMatch.postType : 'general'
  }

  // æ—¢å­˜ã®calculateScoreãƒ¡ã‚½ãƒƒãƒ‰ã‚’ãã®ã¾ã¾æ´»ç”¨
  private calculateScore(content: string, keywords: string[]): number {
    // genreDetectorã®ãƒ­ã‚¸ãƒƒã‚¯ã¨åŒä¸€
    if (keywords.length === 0) return 0
    
    let matchCount = 0
    let totalWeight = 0
    
    keywords.forEach(keyword => {
      const keywordLower = keyword.toLowerCase()
      const matches = (content.match(new RegExp(keywordLower, 'g')) || []).length
      
      if (matches > 0) {
        matchCount += Math.min(matches, 3)
        totalWeight += 3
      } else {
        totalWeight += 1
      }
    })
    
    return totalWeight > 0 ? matchCount / totalWeight : 0
  }
}
```

## ğŸš¨ ç¾çŠ¶ã‚¸ãƒ£ãƒ³ãƒ«åˆ¤å®šã®é™ç•Œã¨è§£æ±ºç­–

### ç¾çŠ¶ã®é™ç•Œç†è§£

#### ç¾åœ¨ã®ã‚¸ãƒ£ãƒ³ãƒ«åˆ¤å®šã®å®Ÿéš›ã®å½±éŸ¿
```typescript
// pageStructureAnalyzer.ts ã‹ã‚‰åˆ¤æ˜ã—ãŸç¾å®Ÿ
1. ã‚¸ãƒ£ãƒ³ãƒ«åˆ¤å®š â†’ genreConfig.optimalItemRange (é …ç›®æ•°ã®ç¯„å›²ã®ã¿)
2. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ã€Œã‚¸ãƒ£ãƒ³ãƒ«æƒ…å ±ã€ã¨ã—ã¦æ¸¡ã•ã‚Œã‚‹
3. ã§ã‚‚å®Ÿéš›ã®ç”Ÿæˆã¯ï¼šæ±ç”¨çš„ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ + ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠãƒ­ã‚¸ãƒƒã‚¯
```

#### ã‚¸ãƒ£ãƒ³ãƒ«åˆ¤å®šã®å¼±ã„å¼·åˆ¶åŠ›
- **é …ç›®æ•°ã®ç¯„å›²æŒ‡å®š**ã®ã¿ï¼ˆmin-maxé …ç›®æ•°ï¼‰
- **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ã®å‚è€ƒæƒ…å ±**ç¨‹åº¦
- **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã¸ã®å½±éŸ¿ã¯é–“æ¥çš„**
- **ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚„ãƒšãƒ¼ã‚¸æ§‹æˆã¸ã®å¼·åˆ¶åŠ›ãªã—**

### æŠ•ç¨¿ã‚¿ã‚¤ãƒ—ã‚·ã‚¹ãƒ†ãƒ ã§ã®è§£æ±ºç­–

#### å¼·åˆ¶åŠ›ã‚’æŒã¤è¨­è¨ˆ
```typescript
interface PostTypeConfig {
  postType: PostType
  // ç¢ºå®šçš„ãªæ§‹æˆè¦ç´ 
  requiredPages: PageTemplate[]        // å¿…é ˆãƒšãƒ¼ã‚¸æ§‹æˆ
  requiredDataStructure: DataStructure // å¿…é ˆãƒ‡ãƒ¼ã‚¿æ§‹é€ 
  forcedTemplateSelection: boolean     // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¼·åˆ¶é©ç”¨
  
  // ç¾åœ¨ã®å¼±ã„è¦ç´ ã‚‚ä¿æŒ
  suggestedItemRange: { min: number; max: number }
  keywords: string[]
}
```

#### å®Ÿè£…ã§ã®ç¢ºå®Ÿæ€§ç¢ºä¿
```typescript
class PostTypeBasedGenerator {
  generateContent(postType: PostType, input: string) {
    const config = getPostTypeConfig(postType)
    
    // 1. ç¢ºå®šçš„ãªãƒšãƒ¼ã‚¸æ§‹æˆ
    const pageStructure = config.requiredPages
    
    // 2. æŠ•ç¨¿ã‚¿ã‚¤ãƒ—å°‚ç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
    const prompt = this.buildPostTypeSpecificPrompt(postType, input)
    
    // 3. ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å¼·åˆ¶é©ç”¨
    const result = await this.generateWithStructure(prompt, config.requiredDataStructure)
    
    return result
  }
  
  private buildPostTypeSpecificPrompt(postType: PostType, input: string): string {
    const config = getPostTypeConfig(postType)
    
    switch(postType) {
      case 'empathy-funnel':
        return `
ã‚ãªãŸã¯å…±æ„Ÿå‹ãƒ•ã‚¡ãƒãƒ«æ§‹æˆã®å°‚é–€å®¶ã§ã™ã€‚ä»¥ä¸‹ã®æŠ•ç¨¿ã‚’æ®µéšçš„å…±æ„Ÿé†¸æˆã«ã‚ˆã‚‹å¿ƒç†èª˜å°æ§‹æˆã§ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚

ã€å¿…é ˆæ§‹æˆã€‘
1. å•é¡Œæèµ·ãƒ•ã‚§ãƒ¼ã‚º: å…·ä½“çš„äº‹ä¾‹+æ„Ÿæƒ…è¡¨ç¾+å¼·èª¿ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
2. å…±æ„Ÿæ·±åŒ–ãƒ•ã‚§ãƒ¼ã‚º: ã‚·ãƒŠãƒªã‚ªæå†™+å®Ÿæ„Ÿ+è¤‡åˆæ„Ÿæƒ…
3. è»¢æ›ç‚¹ãƒ•ã‚§ãƒ¼ã‚º: è¤‡æ•°ç–‘å•+æ„Ÿæƒ…åå¿œ+è»¢æ›ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
4. è§£æ±ºç­–CTA: ã‚µãƒ¼ãƒ“ã‚¹ç´¹ä»‹+å•é¡Œä¾‹+è¡Œå‹•ä¿ƒé€²

ã€å¿…é ˆãƒ‡ãƒ¼ã‚¿æ§‹é€ ã€‘
- problems: å•é¡Œæèµ·+examples+emotionalDescription+emphasis+comment
- empathyScenarios: scenario+realization+struggle
- transition: questions+emotionalResponse+understanding+transitionMessage
- solution: serviceTitle+problemExamples+callToAction

ã€å…¥åŠ›å†…å®¹ã€‘
${input}
        `
      
      case 'educational-content':
        return `
ã‚ãªãŸã¯æ•™è‚²å‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã®å°‚é–€å®¶ã§ã™ã€‚ä»¥ä¸‹ã®æŠ•ç¨¿ã‚’ä½“ç³»çš„æ•™è‚²ã«ã‚ˆã‚‹ä¿¡é ¼é–¢ä¿‚æ§‹ç¯‰æ§‹æˆã§ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚

ã€å¿…é ˆæ§‹æˆã€‘
1. ãƒ¡ã‚¤ãƒ³ã‚¿ã‚¤ãƒˆãƒ«: è¤‡æ•°è¡Œå¼·èª¿+èƒŒæ™¯çµ±åˆ
2. å•é¡Œæèµ·: è³ªå•+ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ+ç· ã‚ããã‚Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
3. Pointæ§‹é€ : ç•ªå·ä»˜ã+å¤šæ§˜ãªå†…å®¹å¯¾å¿œ+è¡Œå‹•ã‚¢ãƒ‰ãƒã‚¤ã‚¹
4. è¡Œå‹•ä¿ƒé€²CTA: è¤‡æ•°CTA+å…·ä½“çš„è¡Œå‹•æŒ‡ç¤º

ã€å¿…é ˆãƒ‡ãƒ¼ã‚¿æ§‹é€ ã€‘
- mainTitle: titleLines
- problemIntro: question+checklist+closingMessage
- points: pointNumber+title+content/recommendation/actionItems/comparison/encouragement
- actionCTA: mainMessage+primaryCTA+actionAdvice+additionalInfo

ã€å…¥åŠ›å†…å®¹ã€‘
${input}
        `
      
      default:
        return `æ±ç”¨çš„ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ for ${input}`
    }
  }
}
```

## ğŸš€ å®Ÿè£…ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

### Phase 1: æœ€å°ä¾µè¥²ã§ã®ç§»è¡Œ
1. **`postType.ts`ã¨`postTypeDetector.ts`ä½œæˆ**
2. **æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®ä¸¦è¡Œé‹ç”¨**ï¼ˆãƒ•ãƒ©ã‚°ã§åˆ‡ã‚Šæ›¿ãˆï¼‰
3. **UIã«æŠ•ç¨¿ã‚¿ã‚¤ãƒ—é¸æŠã‚’è¿½åŠ **
4. **æ®µéšçš„ã«ã‚¸ãƒ£ãƒ³ãƒ«ã‹ã‚‰æŠ•ç¨¿ã‚¿ã‚¤ãƒ—ã«ç§»è¡Œ**

### Phase 2: å®Œå…¨ç§»è¡Œ
1. **å…¨ã¦ã®ã‚¸ãƒ£ãƒ³ãƒ«å‚ç…§ã‚’æŠ•ç¨¿ã‚¿ã‚¤ãƒ—ã«å¤‰æ›´**
2. **`genre.ts`ã¨`genreDetector.ts`ã‚’å‰Šé™¤**
3. **æŠ•ç¨¿ã‚¿ã‚¤ãƒ—åˆ¥ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å®Œå…¨å®Ÿè£…**

### ç½®ãæ›ãˆãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ 
```
app/types/genre.ts â†’ app/types/postType.ts
app/services/genreDetector.ts â†’ app/services/postTypeDetector.ts
app/services/pageStructureAnalyzer.ts â†’ æŠ•ç¨¿ã‚¿ã‚¤ãƒ—å¯¾å¿œã«ä¿®æ­£
```

## ğŸ“ˆ æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

### å¾“æ¥ã‚¸ãƒ£ãƒ³ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é•ã„
```
ç¾åœ¨ï¼šã‚¸ãƒ£ãƒ³ãƒ« â†’ é …ç›®æ•°ç¯„å›² â†’ æ±ç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ â†’ AIåˆ¤æ–­ â†’ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
æ”¹å–„ï¼šæŠ•ç¨¿ã‚¿ã‚¤ãƒ— â†’ å°‚ç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚»ãƒƒãƒˆæ±ºå®š â†’ å°‚ç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ â†’ ç¢ºå®Ÿãªè¡¨ç¾
```

### æŠ•ç¨¿ã‚¿ã‚¤ãƒ—ã‚·ã‚¹ãƒ†ãƒ ã®å¼·åˆ¶åŠ›
1. **ç›´æ¥çš„ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ±ºå®š**
2. **ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å¼·åˆ¶é©ç”¨**
3. **ãƒšãƒ¼ã‚¸æ§‹æˆã®ç¢ºå®Ÿæ€§**
4. **æŠ•ç¨¿ã‚¿ã‚¤ãƒ—å°‚ç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ã‚ˆã‚‹å“è³ªå‘ä¸Š**

### é©æ–°çš„ä¾¡å€¤ã®å®Ÿç¾
- **4ã¤ã®åˆ†æãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**ã®ä¾¡å€¤ãŒç¢ºå®Ÿã«å®Ÿç¾
- **æŠ•ç¨¿ã‚¿ã‚¤ãƒ—åˆ¥æœ€é©åŒ–**ã«ã‚ˆã‚Šè¡¨ç¾åŠ›ãŒé£›èºçš„ã«å‘ä¸Š
- **æ®µéšçš„å®Ÿè£…**ã«ã‚ˆã‚Šæ—¢å­˜æ©Ÿèƒ½ã¸ã®å½±éŸ¿ãªã—
- **å¼·åˆ¶åŠ›ã®å¼·åŒ–**ã«ã‚ˆã‚Šåˆ†æçµæœã®ä¾¡å€¤ã‚’ç¢ºå®Ÿã«åæ˜ 

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **Phase 1å®Ÿè£…**: å…±æ„Ÿå‹ãƒ•ã‚¡ãƒãƒ«æ§‹æˆã®æœ€å°å®Ÿè£…
2. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ**: empathy-problem-introç­‰ã®æ–°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
3. **UIå±¤çµ±åˆ**: æŠ•ç¨¿ã‚¿ã‚¤ãƒ—é¸æŠã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
4. **æ®µéšçš„æ‹¡å¼µ**: æ•™è‚²å‹ã€è¨¼æ˜å‹ã®é †æ¬¡è¿½åŠ 

---

**ã“ã®è¨­è¨ˆã«ã‚ˆã‚Šã€æ—¢å­˜ã®ã‚¸ãƒ£ãƒ³ãƒ«åˆ¤å®šã‚·ã‚¹ãƒ†ãƒ ã®é™ç•Œã‚’å…‹æœã—ã€4ã¤ã®åˆ†æãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®é©æ–°çš„ä¾¡å€¤ã‚’ç¢ºå®Ÿã«å®Ÿç¾ã™ã‚‹æŠ•ç¨¿ã‚¿ã‚¤ãƒ—ã‚·ã‚¹ãƒ†ãƒ ãŒæ§‹ç¯‰ã•ã‚Œã‚‹ã€‚**