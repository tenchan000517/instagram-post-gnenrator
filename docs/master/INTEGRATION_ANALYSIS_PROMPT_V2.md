# 統合分析プロンプトテンプレート V2.0 - 6ステップアプローチ

## 🎯 統合分析の全体戦略

### **6ステップ統合分析**
```
① 投稿タイプのカテゴライズ
② テーマの抽出・分類と投稿タイプとの紐づけ
③ ペルソナの分類と投稿タイプ・テーマとの紐づけ
④ 投稿タイプとページ構成・フォーマッター要件の確定
⑤ 投稿タイプ×ペルソナ×テーマの有益性・表現パターンの確定
⑥ システム実装データベースの作成
```

## 📋 ステップ別プロンプトテンプレート

### **ステップ① 投稿タイプカテゴライズ分析プロンプト**

```
【ステップ①】Instagram投稿タイプカテゴライズ分析を担当します。100投稿の4軸分析結果から投稿タイプを発見的に分類してください。

【必読ドキュメント】
- docs/master/SYSTEM_REQUIREMENTS_DEFINITION.md
- docs/master/COMPLETE_ANALYSIS_FRAMEWORK_V2.md

【分析対象】
contents-001 ～ contents-100 の4軸分析結果
- docs/content-analysis/results/page-structure/contents-XXX-structure.md
- docs/content-analysis/results/beneficial-value/contents-XXX-value.md
- docs/content-analysis/results/content-analysis/contents-XXX-content.md
- docs/content-analysis/results/persona-target/contents-XXX-persona.md

【保存先】
docs/content-analysis/analytics/step1-post-types/POST_TYPE_CATEGORIZATION.md

【分析目的】
1. 投稿タイプの発見的分類（仮説検証＋新タイプ発見）
2. 各タイプの特徴・判定基準の確定
3. タイプ別分布と成功パターンの基礎データ作成

【分析手順】
Step 1: 全100投稿の4軸結果を読み込み
Step 2: 感情・論理比率、構成パターン、価値要素から投稿タイプを発見的に分類
Step 3: 仮説（共感型/学習型/情報型）との適合性検証
Step 4: 新発見タイプがあれば詳細特徴を記録
Step 5: 各タイプの判定基準を確定

【出力フォーマット】
## 【投稿タイプ分類結果】
### 発見された投稿タイプ一覧
- **TypeID=001**: [タイプ名] - [該当投稿数]
- **TypeID=002**: [タイプ名] - [該当投稿数]
- **TypeID=003**: [タイプ名] - [該当投稿数]

### 各タイプの詳細特徴
#### TypeID=001: [タイプ名]
- **特徴**: [詳細な特徴]
- **判定基準**: [このタイプの判定基準]
- **該当投稿**: [投稿IDリスト]
- **感情・論理比率**: [XX:XX]
- **主要構成パターン**: [構成の特徴]
- **主要価値要素**: [価値要素の特徴]

### 仮説検証結果
- **共感型仮説**: [適合/部分適合/不適合とその理由]
- **学習型仮説**: [適合/部分適合/不適合とその理由]
- **情報型仮説**: [適合/部分適合/不適合とその理由]

### 新発見タイプ（あれば）
[新しく発見されたタイプの詳細]
```

### **ステップ② テーマ分析・投稿タイプ紐づけプロンプト**

```
【ステップ②】テーマ抽出・分類と投稿タイプ紐づけ分析を担当します。ステップ①の結果を基に、テーマを分析・分類してください。

【必読ドキュメント】
- docs/master/SYSTEM_REQUIREMENTS_DEFINITION.md
- docs/content-analysis/analytics/step1-post-types/POST_TYPE_CATEGORIZATION.md

【分析対象】
- ステップ①で確定した投稿タイプ分類
- 100投稿のコンテンツ分析結果

【保存先】
docs/content-analysis/analytics/step2-themes/THEME_ANALYSIS_AND_MAPPING.md

【分析目的】
1. 投稿タイプ別の成功テーマリスト作成
2. テーマの体系的分類
3. ユーザー選択用テーマカタログの設計
4. テーマ×投稿タイプの最適組み合わせ確定

【分析手順】
Step 1: 各投稿タイプ別にテーマを抽出
Step 2: テーマを体系的に分類・整理
Step 3: ユーザーが選択しやすい形でテーマを再構成
Step 4: テーマ×投稿タイプの適合性を評価
Step 5: リサーチプロンプト生成要件を抽出

【出力フォーマット】
## 【投稿タイプ別テーマ分析】
### TypeID=001: [タイプ名]のテーマリスト
- **ThemeID=001**: "ES書き方" (該当投稿: XXX, XXX, XXX)
- **ThemeID=002**: "面接対策" (該当投稿: XXX, XXX)

### テーマ体系分類
#### 大分類: 就活準備
- 中分類: ES・履歴書作成
  - ThemeID=001: ES書き方
  - ThemeID=002: 志望動機作成
- 中分類: 面接対策
  - ThemeID=003: 基本マナー
  - ThemeID=004: 想定外質問対応

### ユーザー選択用テーマカタログ
[ユーザーが直感的に選択できる形でのテーマ整理]

### テーマ別リサーチプロンプト要件
[各テーマでリサーチ時に重要な要素]
```

### **ステップ③ ペルソナ分析・紐づけプロンプト**

```
【ステップ③】ペルソナ分類と投稿タイプ・テーマ紐づけ分析を担当します。ペルソナを分析・分類し、最適な組み合わせを確定してください。

【必読ドキュメント】
- docs/master/SYSTEM_REQUIREMENTS_DEFINITION.md
- docs/content-analysis/analytics/step1-post-types/POST_TYPE_CATEGORIZATION.md
- docs/content-analysis/analytics/step2-themes/THEME_ANALYSIS_AND_MAPPING.md

【分析対象】
- 100投稿のペルソナ分析結果
- ステップ①②の分析結果

【保存先】
docs/content-analysis/analytics/step3-personas/PERSONA_ANALYSIS_AND_MAPPING.md

【分析目的】
1. ペルソナの体系的分類
2. テーマ×ペルソナの1:N連携設計
3. 推奨ペルソナの確定
4. ペルソナ別有益性要件の基礎データ作成

【分析手順】
Step 1: ペルソナを体系的に分類
Step 2: 各ペルソナの詳細特徴を確定
Step 3: テーマ×ペルソナの最適組み合わせを分析
Step 4: 推奨ペルソナと選択可能ペルソナを設定
Step 5: ペルソナ別の有益性要件を抽出

【出力フォーマット】
## 【ペルソナ分類結果】
### 発見されたペルソナタイプ
- **PersonaID=001**: 方法論重視型就活生
- **PersonaID=002**: 体験共感型就活生
- **PersonaID=003**: データ重視型就活生

### テーマ×ペルソナ連携テーブル
#### ThemeID=001: "ES書き方"
- **推奨**: PersonaID=001 (方法論重視型)
- **選択可能**: PersonaID=005 (スキル習得型), PersonaID=008 (問題解決型)

### ペルソナ別有益性要件
#### PersonaID=001: 方法論重視型就活生
- **求める有益性**: 体系的手法、段階的指導、実践的ノウハウ
- **表現要件**: 論理的、構造化、具体例豊富
```

### **ステップ④ ページ構成・フォーマッター要件プロンプト**

```
【ステップ④】投稿タイプ別ページ構成・フォーマッター要件分析を担当します。最適なページ構成とフォーマッター仕様を確定してください。

【必読ドキュメント】
- docs/master/SYSTEM_REQUIREMENTS_DEFINITION.md
- ステップ①②③の分析結果

【分析対象】
- 100投稿のページ構成分析結果
- 投稿タイプ別の構成パターン

【保存先】
docs/content-analysis/analytics/step4-structure/PAGE_STRUCTURE_AND_FORMATTER.md

【分析目的】
1. 投稿タイプ別最適ページ構成の確定
2. フォーマッター仕様の詳細設計
3. テンプレート選択要件の確定
4. 情報欠損防止のためのフォーマット規則

【出力フォーマット】
## 【投稿タイプ別ページ構成】
### TypeID=001: [タイプ名]
- **最適ページ数**: X-Y枚
- **ページ構成パターン**: [詳細な構成]
- **情報配置戦略**: [情報の配置方法]
- **テンプレート要件**: [必要なテンプレート仕様]

## 【フォーマッター仕様】
### TypeID=001用フォーマッター
- **入力**: リサーチ結果, TypeID, PersonaID
- **処理**: [具体的な情報整理方法]
- **出力**: [ページ別データ構造]
- **制約**: 情報欠損禁止、解釈・加工禁止
```

### **ステップ⑤ 有益性・表現パターン確定プロンプト**

```
【ステップ⑤】投稿タイプ×ペルソナ×テーマの有益性・表現パターン確定分析を担当します。コンテンツ生成の核心要件を確定してください。

【必読ドキュメント】
- docs/master/SYSTEM_REQUIREMENTS_DEFINITION.md
- ステップ①②③④の分析結果

【分析対象】
- 100投稿の有益性分析結果
- 成功パターンの表現方法

【保存先】
docs/content-analysis/analytics/step5-benefits/BENEFIT_AND_EXPRESSION_PATTERNS.md

【分析目的】
1. ペルソナ別有益性の詳細パターン確定
2. 投稿タイプ×ペルソナ別表現方法の確定
3. コンテンツ生成プロンプト要件の詳細化
4. 品質保証基準の設定

【出力フォーマット】
## 【有益性パターン】
### TypeID=001 × PersonaID=001
- **有益性の核心**: [このペルソナが求める価値]
- **抽出方法**: [リサーチ結果からどう抽出するか]
- **表現パターン**: [どう表現すれば伝わるか]
- **品質基準**: [満たすべき品質要件]

## 【コンテンツ生成要件】
### TypeID=001 × PersonaID=001用生成プロンプト
- **有益性抽出指示**: [具体的な抽出方法]
- **表現要件**: [文体、トーン、構造要件]
- **テンプレート適合要件**: [項目への適合方法]
```

### **ステップ⑥ データベース作成プロンプト**

```
【ステップ⑥】システム実装データベース作成を担当します。ステップ①～⑤の分析結果を統合してシステム実装用データベースを作成してください。

【必読ドキュメント】
- docs/master/SYSTEM_REQUIREMENTS_DEFINITION.md
- ステップ①～⑤の全分析結果

【保存先】
docs/content-analysis/analytics/step6-database/SYSTEM_IMPLEMENTATION_DATABASE.md

【作成目的】
1. システム実装に必要な全データの整理
2. API仕様の詳細設計
3. データベーススキーマの確定
4. 実装優先度の決定

【出力フォーマット】
## 【マスターデータ】
### 投稿タイプマスタ
```sql
CREATE TABLE post_types (
  type_id INT PRIMARY KEY,
  type_name VARCHAR(50),
  characteristics TEXT,
  ...
);
```

### テーママスタ
### ペルソナマスタ
### 連携テーブル群

## 【API仕様】
### リサーチプロンプト生成API
### フォーマッターAPI
### コンテンツ生成API
### テンプレート選択API

## 【実装優先度】
1. **Phase 1**: 基本機能実装
2. **Phase 2**: 高度機能実装
3. **Phase 3**: 最適化・拡張
```

## 🔄 実行手順

### **段階的実行**
```
1. ステップ①実行 → 結果確認
2. ステップ②実行 → ステップ①結果と整合性確認
3. ステップ③実行 → ステップ①②結果と整合性確認
4. ステップ④実行 → 全体整合性確認
5. ステップ⑤実行 → 全体整合性確認
6. ステップ⑥実行 → 最終データベース完成
```

### **品質保証**
- 各ステップ完了時の結果検証
- 前ステップとの整合性確認
- システム要件定義との適合性確認

---

**作成日**: 2025-07-19  
**版数**: 2.0  
**目的**: 6ステップ統合分析の完全実行  
**期待成果**: システム実装用完全データベース