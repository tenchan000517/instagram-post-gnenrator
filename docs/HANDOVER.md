# Instagram投稿生成システム最適化プロジェクト - 引き継ぎ書

## 🎯 プロジェクト概要

### **最終目的**
Instagram投稿生成システムにおける、テーマ選択からリサーチ実行、フォーマッター処理、ページ構造分析、コンテンツ生成、テンプレート選択、データ変換、UI表示、画像生成、ダウンロードまでの全フローを最適化し、ジャンル特性を活かした高品質な投稿生成を実現する。

---

## 🎯 必要なタスク

### **1. システム全体フローの完全理解**
- テーマ選択からダウンロードまでの全工程の詳細把握
- データフローと処理ロジックの解明

### **調査対象**
- 全ての .ts、.tsx、.json ファイル
- 各ファイル間の依存関係とデータフロー
- 処理ロジックの詳細メカニズム

### **調査目的**
システム全体フローの完全理解のみ。問題点特定や最適化ポイントの決定は完全理解後に行う。

### **2. 最適化戦略の思考・検討フェーズ**

#### **フェーズ概要**
調査結果を詳細に把握し、リサーチ、フォーマット、ページ構成、コンテンツ生成、テンプレート挿入、ダウンロードの全フローにおいて、どのようにしたらユーザーにとって有益な情報をジャンルごとにリサーチできるか（ジャンルごとに欲しい情報は異なるのでそのほしい情報をしっかりと設計してリサーチプロンプトを作成する、そのためにはフローの最後のテンプレート挿入までとちゃんと連携する必要がある）、そのリサーチ結果の情報をコンテンツにするために「有益性」のある情報を抽出するために、AIが読みやすくするために情報を劣化させずに、リサーチした結果に対して憶測・推測を含まず情報を劣化させずにフォーマットできるか、ジャンルごとに最適なページ構成（これは各ページ最適なページ構成を設定し、かつ拡張しやすくしたい）と、そのページ構成に適したテンプレートを選択できるか（ページ構成に対してテンプレートが固定なのではなく、ある程度柔軟にしたいが、それが表示するデータの過不足や欠損を招かないように注意）その選択したテンプレートに対して、リサーチ結果がリサーチした「有益性」が適切にテンプレートにしっかりと挿入し、画像生成できるかどうか

これを調査結果を元に既存の良いところは残しつつ、最適化するための方針を考えること

#### **検討対象フロー**
1. **リサーチフェーズ** - テーマ選択からResearchFormatterでの7ジャンル特化処理
2. **フォーマットフェーズ** - AI呼び出し1によるジャンル特化フォーマット変換
3. **ページ構成フェーズ** - AI呼び出し2によるPageStructureAnalyzer処理
4. **コンテンツ生成フェーズ** - AI呼び出し3によるStructureConstrainedGenerator処理
5. **テンプレート挿入フェーズ** - 16テンプレートシステムでの表示・編集統合
6. **ダウンロードフェーズ** - html2canvas + JSZipによる画像生成・一括ダウンロード

#### **思考・検討項目**
- **ジャンル特性活用**: 7ジャンルの特徴を最大限活かした最適化手法
- **AI統合最適化**: 5回のGemini API呼び出しの品質・速度・コスト最適化
- **テンプレート選択精度**: PageStructureAnalyzerの判定精度向上


---

## 📋 全システム調査結果ドキュメント

### **プロジェクトルート**

### **docs/ - システム完全ドキュメント化**
```
├── 🔍 システム完全ドキュメント化シリーズ（01-15）
│   ├── 01_SYSTEM_OVERVIEW.md
│   ├── 02_COMPLETE_DATA_FLOW.md  
│   ├── 03_BUTTERFLY_EFFECT_ANALYSIS.md
│   ├── 04_TYPESCRIPT_TYPE_SYSTEM.md
│   ├── 05_AI_INTEGRATION_GUIDE.md
│   ├── 06_FILE_STRUCTURE_DEPENDENCY.md
│   ├── 07_UI_RENDERING_SYSTEM.md
│   ├── 08_TEMPLATE_SPECIFICATIONS.md
│   ├── 09_EDITOR_IMPLEMENTATION.md
│   ├── 10_DEVELOPMENT_DEBUG_GUIDE.md
│   ├── 11_SYSTEM_EXTENSION_GUIDE.md
│   ├── 12_QUALITY_ASSURANCE_GUIDE.md
│   ├── 13_DATA_SAMPLES.md
│   ├── 14_API_INTERFACE_SPEC.md
│   └── 15_PERFORMANCE_OPTIMIZATION.md
│
├── 🎯 プロンプト分析シリーズ  
│   ├── ACTUAL_RESEARCH_PROMPT_ANALYSIS.md     # 実際のリサーチプロンプト分析
│   ├── CURRENT_PROMPT_ANALYSIS.md             # PageStructureAnalyzerプロンプト分析
│   └── FORMATTER_PROMPTS_ANALYSIS.md          # フォーマッタープロンプト分析
│
├── 📋 設定・ガイド
│   ├── GENRE_TEMPLATE_CONFIGURATION_GUIDE.md  # テンプレート設定手順
│   └── COMPLETE_SYSTEM_DOCUMENTATION_INDEX.md # 完全ドキュメント索引
│
└── 📝 引き継ぎ・管理
    ├── HANDOVER.md                            # メイン引き継ぎ書  
```

**引き継ぎ日**: 2025-07-18  
**作成者**: Claude Code  
**次世代担当者**: 新Claude Code  
**プロジェクト状況**: 方向性を検討中