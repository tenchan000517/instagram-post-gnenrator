# 📋 実際のリサーチプロンプト完全分析

## 概要
UIリサーチャーページで実際に使用されているリサーチプロンプトの完全分析。
ファイル: `app/components/ResearchComponent.tsx` の `generateResearchPrompt` 関数 (89-131行)

## 実際のプロンプト全文

```typescript
const generateResearchPrompt = (themeTitle: string, themeDescription: string) => {
  return `【リサーチ指示】

以下のテーマについて、Instagram投稿作成に必要な詳細で実践的な情報をリサーチしてください。

【テーマ】: ${themeTitle}
【概要】: ${themeDescription}

【リサーチ要件】
1. **具体的な統計データ・数値情報**
   - 最新の調査結果、パーセンテージ、ランキング情報
   - 信頼できる機関（厚労省、経産省、大手調査会社等）のデータ

2. **専門家の見解・アドバイス**
   - 業界専門家、キャリアコンサルタント、採用担当者のコメント
   - 実際の成功事例とその背景

3. **具体的な実践方法・手順**
   - ステップバイステップの方法論
   - 実際に使えるテンプレートやフレームワーク

4. **失敗パターンと回避策**
   - よくある間違いとその対処法
   - 注意すべきポイント

5. **最新トレンド・変化**
   - 2024-2025年の最新動向
   - コロナ後の変化、AI時代の影響

【出力形式】
- 情報源を明記した詳細な内容
- 固有名詞、数値、日付を正確に記載
- 実践で使える具体的な情報を中心に
- 推測や憶測は避け、事実ベースの情報のみ

【重要】
- 存在しない情報は作らない
- 「〜と言われています」等の曖昧な表現は避ける
- 具体的で検証可能な情報を優先
- 最新性を重視（2024年以降の情報を優先）

このテーマについて、上記要件を満たす詳細なリサーチ結果を提供してください。`
}
```

## プロンプトの構造分析

### 1. 基本情報
- **入力パラメータ**: `themeTitle` (テーマタイトル), `themeDescription` (テーマ概要)
- **目的**: Instagram投稿作成用の実践的な情報収集
- **出力形式**: 構造化されていない生のリサーチ結果

### 2. リサーチ要件 (5つのカテゴリ)

#### ① 統計データ・数値情報
- 最新の調査結果、パーセンテージ、ランキング
- 信頼できる機関のデータ（厚労省、経産省、大手調査会社等）

#### ② 専門家の見解・アドバイス
- 業界専門家、キャリアコンサルタント、採用担当者のコメント
- 実際の成功事例とその背景

#### ③ 具体的な実践方法・手順
- ステップバイステップの方法論
- 実際に使えるテンプレートやフレームワーク

#### ④ 失敗パターンと回避策
- よくある間違いとその対処法
- 注意すべきポイント

#### ⅴ 最新トレンド・変化
- 2024-2025年の最新動向
- コロナ後の変化、AI時代の影響

### 3. 品質基準

#### 出力形式要件
- 情報源を明記した詳細な内容
- 固有名詞、数値、日付を正確に記載
- 実践で使える具体的な情報を中心に
- 推測や憶測は避け、事実ベースの情報のみ

#### 重要な制約
- 存在しない情報は作らない
- 曖昧な表現を避ける
- 具体的で検証可能な情報を優先
- 最新性を重視（2024年以降の情報を優先）

## システムフローでの位置づけ

### 実際のデータフロー
```
1. research-themes.json → テーマ選択
2. generateResearchPrompt() → Gemini API呼び出し
3. リサーチ結果 → LocalStorage保存
4. フォーマッターに送信 → Instagram投稿生成システム
```

### リサーチプロンプトの特徴

#### ✅ 優れている点
1. **構造化された要件**: 5つの明確なカテゴリ
2. **品質基準の明示**: 信頼性、具体性、最新性の重視
3. **実用性重視**: Instagram投稿作成に特化
4. **制約の明確化**: 推測・憶測の禁止

#### ❌ 潜在的な問題
1. **構造指定なし**: 出力形式が自由すぎる
2. **ジャンル無視**: テーマに関係なく同一プロンプト
3. **テンプレート意識なし**: 後続のフォーマッター・PageStructureAnalyzerとの連携不足

## フォーマッター・PageStructureAnalyzerとの関係

### 現在の問題構造
```
リサーチプロンプト: 生の情報収集（構造化なし）
      ↓
フォーマッター: 強制的な構造化（ページ構成決定）
      ↓
PageStructureAnalyzer: 既に構造化済みの内容を再分析
```

### 役割の重複
1. **リサーチ段階**: 実践方法・手順の収集
2. **フォーマッター段階**: 実践方法・手順の構造化
3. **PageStructureAnalyzer段階**: 構造化済み内容の再構造化

## 改善の可能性

### Option A: リサーチプロンプトの最小化
```
現在: 5つのカテゴリで詳細収集
改善: 基本情報のみ収集、構造化は後段に委ねる
```

### Option B: リサーチプロンプトの強化
```
現在: ジャンル無視の汎用プロンプト
改善: ジャンル特性を考慮した専用プロンプト
```

### Option C: システム全体の再設計
```
現在: 3段階の重複処理
改善: 責任範囲の明確化と効率化
```

## まとめ

実際のリサーチプロンプトは、品質の高い情報収集を行うよう設計されているが、後続のフォーマッター・PageStructureAnalyzerとの役割重複という構造的問題を抱えている。

この重複が、最終的なテンプレート選択の精度に影響を与えている可能性がある。

---

作成日: 2025-07-17  
データソース: app/components/ResearchComponent.tsx (89-131行)