# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°ãƒ»ãƒ‡ãƒ¼ã‚¿æå¤±å•é¡Œ è©³ç´°åˆ†æ

## ğŸš¨ ç™ºç”Ÿæ—¥æ™‚
2025å¹´1æœˆ12æ—¥ - Issue #8ä¿®æ­£å¾Œã«ç™ºè¦‹ã•ã‚ŒãŸæ–°ãŸãªå•é¡Œ

## ğŸ“‹ å•é¡Œæ¦‚è¦
ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã«ãŠã„ã¦ã€é©åˆ‡ã§ãªã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒé¸æŠã•ã‚Œã€é‡è¦ãªãƒ‡ãƒ¼ã‚¿ãŒæå¤±ã™ã‚‹å•é¡ŒãŒç¶™ç¶šã—ã¦ç™ºç”Ÿã€‚

## ğŸ” å…·ä½“çš„ãªå•é¡Œäº‹ä¾‹

### å•é¡Œ1: ãƒšãƒ¼ã‚¸2 - simple3 â†’ simple2ã¸ã®ä¸é©åˆ‡ãªå¤‰æ›

#### æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ
```json
// å…ƒãƒ‡ãƒ¼ã‚¿ï¼ˆcontentï¼‰
{
  "pageNumber": 2,
  "templateType": "simple3",
  "content": {
    "title": "æœæ´»ã®ã‚¹ã‚¹ãƒ¡",
    "items": [
      {
        "title": "NGç¿’æ…£ï¼šäºŒåº¦å¯ãƒ»ã‚¹ãƒãƒ›ã„ã˜ã‚Š",
        "description": "ç¡çœ ã®è³ªã‚’ä½ä¸‹ã•ã›ã€é›†ä¸­åŠ›ã‚’é˜»å®³ã—ã¾ã™ã€‚æƒ…å ±éå¤šã«ã‚‚ãªã‚ŠãŒã¡ã§ã™ã€‚"
      },
      {
        "title": "æ¨å¥¨ç¿’æ…£ï¼šæœé£Ÿãƒ»è»½ã„é‹å‹•ãƒ»èº«ã ã—ãªã¿",
        "description": "è„³ã‚’æ´»æ€§åŒ–ã—ã€è‡ªå·±è‚¯å®šæ„Ÿã‚’é«˜ã‚ã¾ã™ã€‚1æ—¥ã®å§‹ã¾ã‚Šã«é”æˆæ„Ÿã‚’å¾—ã¦ã€æ´»å‹•ã¸ã®æ„æ¬²ã‚’å‘ä¸Šã•ã›ã¾ã—ã‚‡ã†ã€‚"
      }
    ]
  }
}
```

#### å®Ÿéš›ã®å•é¡Œ
**ãƒãƒƒãƒãƒ³ã‚°çµæœ:**
```
ğŸ† ãƒãƒƒãƒãƒ³ã‚°çµæœ:
  ğŸ¥‡ 1ä½: simple2 (ã‚¹ã‚³ã‚¢: 9.231)
  ğŸ¥ˆ 2ä½: enumeration (ã‚¹ã‚³ã‚¢: 6.000)
  ğŸ“ å·®åˆ†: 3.231

ğŸ”„ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰æ›´: simple3 â†’ simple2
```

**ãƒ‡ãƒ¼ã‚¿æå¤±:**
```json
// å¤‰æ›å¾Œãƒ‡ãƒ¼ã‚¿ï¼ˆtemplateDataï¼‰
{
  "templateType": "simple2",
  "templateData": {
    "title": "æœæ´»ã®ã‚¹ã‚¹ãƒ¡",
    "content": "",  // â† ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒç©º
    "subtitle": "",
    "badgeText": "",
    "items": [
      {
        "title": "NGç¿’æ…£ï¼šäºŒåº¦å¯ãƒ»ã‚¹ãƒãƒ›ã„ã˜ã‚Š",
        "content": "ç¡çœ ã®è³ªã‚’ä½ä¸‹ã•ã›ã€é›†ä¸­åŠ›ã‚’é˜»å®³ã—ã¾ã™ã€‚æƒ…å ±éå¤šã«ã‚‚ãªã‚ŠãŒã¡ã§ã™ã€‚"
      },
      {
        "title": "æ¨å¥¨ç¿’æ…£ï¼šæœé£Ÿãƒ»è»½ã„é‹å‹•ãƒ»èº«ã ã—ãªã¿",
        "content": "è„³ã‚’æ´»æ€§åŒ–ã—ã€è‡ªå·±è‚¯å®šæ„Ÿã‚’é«˜ã‚ã¾ã™ã€‚1æ—¥ã®å§‹ã¾ã‚Šã«é”æˆæ„Ÿã‚’å¾—ã¦ã€æ´»å‹•ã¸ã®æ„æ¬²ã‚’å‘ä¸Šã•ã›ã¾ã—ã‚‡ã†ã€‚"
      }
    ],
    "boxes": []  // â† simple2ç”¨ã®boxesãƒ‡ãƒ¼ã‚¿ãŒç©º
  }
}
```

**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¡¨ç¤ºãƒ­ã‚°:**
```
ğŸ¨ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿æŒ¿å…¥ - simple2
ğŸ“‹ æŒ¿å…¥ãƒ‡ãƒ¼ã‚¿è©³ç´°:
  - title: "æœæ´»ã®ã‚¹ã‚¹ãƒ¡"
  - content: "ãªã—"  // â† è¡¨ç¤ºãƒ‡ãƒ¼ã‚¿ãªã—
  - subtitle: "ãªã—"
  - badgeText: "ãªã—"
  - boxes: [0å€‹]  // â† è¡¨ç¤ºã™ã¹ããƒ‡ãƒ¼ã‚¿ãªã—
```

### å•é¡Œ2: ãƒšãƒ¼ã‚¸5 - simple5ã®stepsæƒ…å ±ã¯æ­£å¸¸ã ãŒãƒãƒƒãƒãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯ã«èª²é¡Œ

#### æ­£å¸¸ãƒ‡ãƒ¼ã‚¿
```json
{
  "pageNumber": 5,
  "templateType": "simple5",
  "templateData": {
    "steps": [
      {
        "step": 1,
        "title": "æ´»å‹•å†…å®¹ã®è¨˜éŒ²",
        "description": "èª¬æ˜ä¼šå‚åŠ ã€ä¼æ¥­ç ”ç©¶ã€é¢æ¥å¯¾ç­–ãªã©ã€å…·ä½“çš„ãªæ´»å‹•å†…å®¹ã‚’è¨˜éŒ²ã€‚"
      }
      // ... 5å€‹ã®ã‚¹ãƒ†ãƒƒãƒ—
    ]
  }
}
```

#### simple5ãƒãƒƒãƒãƒ³ã‚°å¤±æ•—ã®åŸå› 
**æ§‹é€ ãƒã‚§ãƒƒã‚¯ãƒ­ã‚°:**
```
ğŸ“Š simple5:
  â”œâ”€ æ§‹é€ ãƒã‚§ãƒƒã‚¯: âŒ ä¸é©åˆ
  â”œâ”€ æ§‹é€ ã‚¹ã‚³ã‚¢: 0.000
  â””â”€ èª¬æ˜: ã‚¹ãƒ†ãƒƒãƒ—å‹æ§‹é€ ï¼ˆstepç•ªå·ä»˜ãã‚¢ã‚¤ãƒ†ãƒ ï¼‰
```

**å•é¡Œ**: `content.items`ã«stepç•ªå·ãŒã‚ã£ã¦ã‚‚ãƒãƒƒãƒãƒ³ã‚°ã§èªè­˜ã•ã‚Œã¦ã„ãªã„

### å•é¡Œ3: ãƒšãƒ¼ã‚¸7 - simple6 â†’ enumerationã¸ã®ä¸é©åˆ‡ãªå¤‰æ›

#### å…ƒãƒ‡ãƒ¼ã‚¿
```json
{
  "pageNumber": 7,
  "templateType": "simple6",
  "content": {
    "title": "ã¾ã¨ã‚ï¼šå†…å®šç²å¾—ã¸ã®é“",
    "description": "ã“ã‚Œã‚‰ã®ç¿’æ…£ã‚’å®Ÿè·µã—ã€è‡ªå·±ç®¡ç†èƒ½åŠ›ã‚’é«˜ã‚ã‚‹ã“ã¨ã§...",
    "items": ["æ—©èµ·ã", "ToDoãƒªã‚¹ãƒˆä½œæˆ", "ãƒ‡ã‚¸ã‚¿ãƒ«ãƒ„ãƒ¼ãƒ«æ´»ç”¨", "æƒ…å ±åé›†", "å°±æ´»æ—¥è¨˜", "ã‚»ãƒ«ãƒ•ã‚±ã‚¢"]
  }
}
```

#### ãƒãƒƒãƒãƒ³ã‚°çµæœ
```
ğŸ† ãƒãƒƒãƒãƒ³ã‚°çµæœ:
  ğŸ¥‡ 1ä½: enumeration (ã‚¹ã‚³ã‚¢: 9.000)
  ğŸ¥ˆ 2ä½: simple5 (ã‚¹ã‚³ã‚¢: 7.429)

ğŸ”„ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰æ›´: simple6 â†’ enumeration
```

**ãƒ‡ãƒ¼ã‚¿æå¤±**: `description`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®æƒ…å ±ãŒå¤±ã‚ã‚Œã‚‹å¯èƒ½æ€§

## ğŸ”§ æ ¹æœ¬åŸå› åˆ†æ

### 1. **simple3ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒæœªå®šç¾©**
- `pureStructureMatchingService.ts`ã«`simple3`ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒå­˜åœ¨ã—ãªã„
- 2ã¤ã®ã‚¢ã‚¤ãƒ†ãƒ ã¯`simple2`ã«ãƒãƒƒãƒã—ã¦ã—ã¾ã†
- `simple3`ã®ç‰¹æ€§ï¼ˆ2ã‚«ãƒ©ãƒ è¡¨ç¤ºï¼‰ãŒè€ƒæ…®ã•ã‚Œã¦ã„ãªã„

### 2. **simple5ãƒãƒƒãƒãƒ³ã‚°æ¡ä»¶ã®å•é¡Œ**
- `content.items`ã®æ§‹é€ ãƒã‚§ãƒƒã‚¯ã§`step`ç•ªå·ã®å­˜åœ¨ç¢ºèªãŒä¸é©åˆ‡
- ã‚¹ãƒ†ãƒƒãƒ—å‹ã®ç‰¹æ®Šæ€§ãŒæ­£ã—ãèªè­˜ã•ã‚Œã¦ã„ãªã„

### 3. **simple6ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒæœªå®šç¾©**
- `simple6`ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒå­˜åœ¨ã—ãªã„ãŸã‚ã€`enumeration`ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- ã¾ã¨ã‚å‹ã®ç‰¹æ€§ãŒå¤±ã‚ã‚Œã‚‹

### 4. **ãƒ‡ãƒ¼ã‚¿å¤‰æ›æ™‚ã®æƒ…å ±æå¤±**
- `content â†’ templateData`å¤‰æ›æ™‚ã«ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç‰¹æœ‰ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒé©åˆ‡ã«è¨­å®šã•ã‚Œãªã„
- ç‰¹ã«`boxes`ã€`steps`ã€`twoColumn`ç­‰ã®ç‰¹æ®Šæ§‹é€ ã¸ã®å¤‰æ›ãŒä¸å®Œå…¨

## ğŸ¯ å¿…è¦ãªä¿®æ­£

### ä¿®æ­£1: simple3ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è¿½åŠ 
```typescript
{
  templateType: 'simple3',
  description: '2ã‚«ãƒ©ãƒ å‹æ§‹é€ ï¼ˆå·¦å³æ¯”è¼ƒè¡¨ç¤ºï¼‰',
  structureCheck: (content) => {
    const directItems = content?.items || []
    return directItems.length === 2 && 
           directItems.every(item => item.title && item.description)
  },
  priority: 11 // simple2ã‚ˆã‚Šé«˜ã„å„ªå…ˆåº¦
}
```

### ä¿®æ­£2: simple6ãƒ‘ã‚¿ãƒ¼ãƒ³ã®è¿½åŠ 
```typescript
{
  templateType: 'simple6',
  description: 'ã¾ã¨ã‚å‹æ§‹é€ ï¼ˆçµè«–+ãƒªã‚¹ãƒˆï¼‰',
  structureCheck: (content) => {
    const directItems = content?.items || []
    return directItems.length >= 4 && 
           directItems.length <= 8 &&
           !!content?.description &&
           directItems.every(item => typeof item === 'string')
  },
  priority: 10
}
```

### ä¿®æ­£3: ãƒ‡ãƒ¼ã‚¿å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯ã®æ”¹å–„
```typescript
// simple3ç”¨ã®twoColumnå¤‰æ›
if (templateType === 'simple3' && content.items && content.items.length === 2) {
  baseData.twoColumn = {
    left: [content.items[0]],
    right: [content.items[1]]
  }
}

// simple6ç”¨ã®å‡¦ç†
if (templateType === 'simple6' && content.items) {
  baseData.items = content.items
  baseData.content = content.description || content.content
}
```

### ä¿®æ­£4: simple5ãƒãƒƒãƒãƒ³ã‚°æ¡ä»¶ã®æ”¹å–„
- `content.items`å†…ã®`step`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å­˜åœ¨ç¢ºèªã®å¼·åŒ–
- ã‚¹ãƒ†ãƒƒãƒ—ç•ªå·ã®é€£ç¶šæ€§ãƒã‚§ãƒƒã‚¯ã®æ”¹å–„

## ğŸ“Š å½±éŸ¿ç¯„å›²

### å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«
- `/app/services/pureStructureMatchingService.ts` - ãƒ‘ã‚¿ãƒ¼ãƒ³è¿½åŠ 
- `/app/services/contentGeneratorService.ts` - ãƒ‡ãƒ¼ã‚¿å¤‰æ›æ”¹å–„
- `/app/components/templates/` - æ–°è¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¯¾å¿œç¢ºèª

### å½±éŸ¿ã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
- `simple3` - 2ã‚«ãƒ©ãƒ æ¯”è¼ƒè¡¨ç¤º
- `simple5` - ã‚¹ãƒ†ãƒƒãƒ—å‹è¡¨ç¤ºï¼ˆãƒãƒƒãƒãƒ³ã‚°æ”¹å–„ï¼‰
- `simple6` - ã¾ã¨ã‚å‹è¡¨ç¤º

## ğŸ” æ¤œè¨¼ç”¨ãƒ‡ãƒ¼ã‚¿

### simple3ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
```json
{
  "items": [
    {"title": "NGç¿’æ…£", "description": "èª¬æ˜"},
    {"title": "æ¨å¥¨ç¿’æ…£", "description": "èª¬æ˜"}
  ]
}
```

### simple6ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
```json
{
  "description": "ã¾ã¨ã‚ã®èª¬æ˜æ–‡",
  "items": ["é …ç›®1", "é …ç›®2", "é …ç›®3", "é …ç›®4", "é …ç›®5"]
}
```

## ğŸ“ æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

### ä¿®æ­£å‰
```
simple3 â†’ simple2 (ãƒ‡ãƒ¼ã‚¿æå¤±)
simple5 â†’ enumeration (ã‚¹ãƒ†ãƒƒãƒ—æƒ…å ±æå¤±)  
simple6 â†’ enumeration (ã¾ã¨ã‚æƒ…å ±æå¤±)
```

### ä¿®æ­£å¾Œ
```
simple3 â†’ simple3 (2ã‚«ãƒ©ãƒ é©åˆ‡è¡¨ç¤º)
simple5 â†’ simple5 (ã‚¹ãƒ†ãƒƒãƒ—ç•ªå·ä»˜ãè¡¨ç¤º)
simple6 â†’ simple6 (ã¾ã¨ã‚+ãƒªã‚¹ãƒˆè¡¨ç¤º)
```

## ğŸš¨ å„ªå…ˆåº¦
**P0 (æœ€é«˜)** - ãƒ‡ãƒ¼ã‚¿æå¤±ã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¡¨ç¾åŠ›ã®é‡å¤§ãªå•é¡Œ