# Instagram Post Generator - Issues & TODO

## Issue #1: コンテンツ文字数制限の実装 ✅ 完了

### 問題
- 現在、コンテンツがビューポート（850×800px）からはみ出すことがある
- PostSlideやその他のテンプレートで文字数制限が設定されていない

### 解決状況
✅ 各テンプレートタイプごとに文字数制限を厳密に定義し、AI生成時にこの制限に従うように実装済み
✅ 文字数制限バリデーションと自動調整機能を追加
✅ マークダウン記法の自動除去システムを実装

---

## Issue #2: ビューポートサイズの最適化 ✅ 完了

### 現状
- ビューポート: 850×800px
- Instagram標準: 1080×1080px

### 解決状況
✅ 現在のビューポートサイズで問題なく動作することを確認
✅ ダウンロード時の画像生成が正常に機能

---

## Issue #3: デバッグラインの削除 ✅ 完了

### 解決状況
✅ 全コンポーネントからデバッグ用のカラーラインを削除
✅ 本番環境用のクリーンなコードに整理

---

## Issue #4: 絵文字除去とコンテンツ品質向上

### 問題
- コンテンツ生成時に絵文字が含まれることがある
- キャプションとハッシュタグが統合されていない

### 実装予定
1. **絵文字除去**: コンテンツ生成時に絵文字を除去（キャプションは除く）
2. **統合インプットフィールド**: キャプションとハッシュタグを結合したコピペ用フィールドを追加
3. **ハッシュタグ数の固定**: 必ず11個のハッシュタグを生成するように修正

### 優先度
中 - ユーザビリティの向上

---

## Issue #5: テンプレートシステムの包括的改善

### 問題
- テンプレートの文字数制限が不適切
- レイアウトの改善が必要
- Lucide Reactアイコンの使用方法が不適切
- 不要な要素（質問コメントボックス、ページ番号）が含まれている
- テンプレートとコンテンツのマッチング精度が低い

### 実装予定

#### 1. タイトル文字数とレイアウト改善
- 各テンプレートのタイトル文字数を最適化
- レイアウトの視覚的改善
- 文字サイズとスペーシングの調整

#### 2. Lucide Reactアイコンの改善
- 正しいアイコンの選択と使用方法
- アイコンサイズの統一
- 適切なアイコンの配置

#### 3. ラベルとUI要素の改善
- より直感的なラベル文言
- 不要な要素の削除
  - 質問コメントボックス
  - ページ番号表示
- UI要素の整理

#### 4. テンプレートマッチング精度向上
- コンテンツタイプとテンプレートの適合性向上
- AI分析による最適なテンプレート選択
- テンプレート推薦システムの改善

#### 5. テンプレート最適化
- 効果的なテンプレートを追加
- 使用頻度が低いテンプレートの削除
- テンプレートの統合と最適化

### 対象テンプレート
- EnumerationTemplate（列挙型）
- ExplanationTemplate（説明型）
- StoryTemplate（ストーリー型）
- ListTemplate（リスト型）
- SimpleTemplate系（シンプル型1-6）
- TableTemplate（表型）

### 優先度
高 - コンテンツ品質とユーザーエクスペリエンスの向上

### 関連ファイル
- `/app/components/templates/`
- `/app/services/templateMatchingService.ts`
- `/app/components/templates/TemplateRegistry.ts`