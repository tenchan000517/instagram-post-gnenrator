# 企業情報データベース構築フロー完全版

## 🎯 フロー概要

企業情報ランキングシステムのデータベースを段階的に構築するための確実なフローです。

## 📋 フロー全体図

```
Phase 1: 準備・計画
    ↓
Phase 2: リサーチプロンプト作成
    ↓
Phase 3: 外部リサーチ実行
    ↓
Phase 4: データ検証・データベース化
    ↓
Phase 5: 品質チェック・完成
```

---

## Phase 1: 準備・計画

### Step 1.1: 拡張対象企業の決定
- **実行者**: ユーザー
- **内容**: 企業リスト95社から次に追加する企業群を選定
- **出力**: 追加対象企業リスト（10-15社程度）

### Step 1.2: 業界分類の確認
- **実行者**: Claude Code
- **内容**: 追加企業がどの業界データベースに属するか分類
- **出力**: 業界別企業分類表

---

## Phase 2: リサーチプロンプト作成

### Step 2.1: 企業リサーチプロンプトの生成
- **実行者**: Claude Code
- **内容**: 
  - データベース構造定義書に基づいたプロンプト作成
  - 指定されたフォーマットでの出力指示
  - 対象企業リストの明記
- **出力**: 完全なリサーチプロンプト

### Step 2.2: プロンプト品質チェック
- **実行者**: Claude Code
- **チェック項目**:
  - [ ] データベース構造との整合性
  - [ ] 必須項目の網羅性
  - [ ] フォーマット指定の明確性
- **出力**: 品質チェック済みプロンプト

---

## Phase 3: 外部リサーチ実行

### Step 3.1: DeepリサーチAIでのリサーチ
- **実行者**: ユーザー
- **手順**:
  1. Claude Codeが作成したプロンプトをコピー
  2. DeepリサーチAIに貼り付け実行
  3. 結果を全文コピー
- **出力**: 構造化された企業情報データ

### Step 3.2: リサーチ結果の共有
- **実行者**: ユーザー
- **内容**: DeepリサーチAI結果をClaude Codeに貼り付け
- **出力**: 共有完了

---

## Phase 4: データ検証・データベース化

### Step 4.1: データ正確性検証
- **実行者**: Claude Code
- **検証項目**:
  - [ ] 企業名の正確性
  - [ ] データの存在確認
  - [ ] フォーマット準拠確認
- **出力**: 検証済みデータ

### Step 4.2: 業界別データベースへの追加
- **実行者**: Claude Code
- **手順**:
  1. 該当業界データベースファイルを特定
  2. 新企業データを追加
  3. 統計データの更新
  4. ランキング分析の更新
- **出力**: 更新済み業界データベース

---

## Phase 5: 品質チェック・完成

### Step 5.1: 最終品質チェック
- **実行者**: Claude Code
- **チェック項目**:
  - [ ] データの完全性
  - [ ] フォーマットの統一性
  - [ ] ランキング分析の正確性
  - [ ] 統計データの整合性
- **出力**: 品質チェックレポート

### Step 5.2: 完成確認
- **実行者**: ユーザー・Claude Code
- **内容**: データベース完成の確認
- **出力**: 完成報告

---

## 🔄 繰り返しフロー

上記フローを繰り返し実行することで、段階的にデータベースを拡張します：

**Batch 1**: 10社 → **Batch 2**: 10社 → **Batch 3**: 10社...

---

## ⚠️ 重要な注意点

### Claude Codeが絶対にやってはいけないこと
1. **存在しない企業データを作成すること**
2. **推測でデータを埋めること**
3. **リサーチ結果を勝手に改変すること**
4. **ユーザー共有データ以外の情報を使用すること**

### Claude Codeが必ず行うべきこと
1. **共有されたデータの正確な抽出のみ**
2. **データベース構造への正確な反映**
3. **品質チェックの徹底実施**
4. **エラー発見時はユーザーへの即座の報告**

---

## 📊 進捗管理

### TodoWrite活用
各フェーズの進捗をTodoWriteで管理：
- Phase進行状況
- 作業完了確認
- エラー・課題の記録

### 品質保証
- データ検証チェックリストの活用
- 段階的確認による品質担保
- ユーザー承認による最終確定

---

## 🎯 成果物

### 最終成果物
- **業界別データベースファイル**: 拡張済み
- **企業数**: 段階的増加（10社→20社→30社...）
- **ランキング分析**: 更新済み統計データ
- **品質報告書**: 各バッチ完成時

このフローに従うことで、確実で正確なデータベース構築が可能になります。