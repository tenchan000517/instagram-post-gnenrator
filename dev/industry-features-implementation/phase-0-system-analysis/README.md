# Phase 0: 既存システム理解

## 目的
既存システムの動作を完全に把握し、業種特徴系ジャンルの現在の状況を理解する

## ⚠️ 重要注意事項
- ファイルは必ず全文読み込み（limitパラメータ禁止）
- 断片的読み込みは重複実装リスクを生む
- 既存関数の見落とし防止が最優先

## 🔍 調査対象（完全理解必須）

### A. コンテンツ生成フロー
- フォーマッター→生成システムの完全な流れ
- 各段階での処理内容とデータ変換

### B. 生成システム詳細
- コンテンツ生成ロジック（全サービス）
- 使用プロンプト（全文・構造）
- ジャンル判定・選択の仕組み

### C. 型定義とデータ構造
- 全TypeScript型定義
- ジャンル別データ構造
- テンプレート構造定義

### D. ジャンル別システム
- 7ジャンル個別のプロンプト
- ジャンル別処理ロジック
- テンプレート選択条件

### E. 使用・不使用コンポーネント特定
- 実際に使用中のコンポーネント
- 不使用（レガシー）コンポーネント
- 不使用サービスの把握

### F. 全フロー把握
- テーマリサーチャー→フォーマッター→生成
- メインページ→生成→表示
- 編集・ダウンロード機能

## チェックリスト
- [ ] ジャンル判定システムの理解（genreDetector.ts）
- [ ] PageStructureAnalyzerの動作確認
- [ ] 既存テンプレート選択ロジックの把握
- [ ] データ構造とテンプレートマッチングの仕組み理解
- [ ] 業種特徴系の現在の動作確認

## 成果物
- [ ] `genre-detector-analysis.md` - ジャンル判定システム分析
- [ ] `page-structure-analyzer-analysis.md` - PageStructureAnalyzer分析
- [ ] `template-selection-analysis.md` - テンプレート選択ロジック分析
- [ ] `current-industry-features-status.md` - 業種特徴系現状分析
- [ ] `system-understanding-summary.md` - システム理解総まとめ

## 期間
30分